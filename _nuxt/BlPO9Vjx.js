import{g as ot,k as mt,l as wn,m as _n,e as Jn,c as K,a as m,t as dt,f as Nt,j as L,u as tt,i as jn,F as Gt,r as re,n as Ct,h as tr,b as We,w as Ze,T as Qe,C as er,o as U,D as Ne,_ as nr}from"./CeCQGU5i.js";import{s as rr}from"./-RV1JSnM.js";import{u as ir}from"./BkOf9Xvw.js";import{t as or}from"./B2D7RhMk.js";import{s as ar}from"./x_rD_Ya3.js";var sr={value:()=>{}};function me(){for(var t=0,e=arguments.length,n={},r;t<e;++t){if(!(r=arguments[t]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new le(n)}function le(t){this._=t}function lr(t,e){return t.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}le.prototype=me.prototype={constructor:le,on:function(t,e){var n=this._,r=lr(t+"",n),i,o=-1,s=r.length;if(arguments.length<2){for(;++o<s;)if((i=(t=r[o]).type)&&(i=ur(n[i],t.name)))return i;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++o<s;)if(i=(t=r[o]).type)n[i]=Je(n[i],t.name,e);else if(e==null)for(i in n)n[i]=Je(n[i],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new le(t)},call:function(t,e){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,o;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=this._[t],r=0,i=o.length;r<i;++r)o[r].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(e,n)}};function ur(t,e){for(var n=0,r=t.length,i;n<r;++n)if((i=t[n]).name===e)return i.value}function Je(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=sr,t=t.slice(0,r).concat(t.slice(r+1));break}return n!=null&&t.push({name:e,value:n}),t}var $e="http://www.w3.org/1999/xhtml";const je={svg:"http://www.w3.org/2000/svg",xhtml:$e,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function we(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),je.hasOwnProperty(e)?{space:je[e],local:t}:t}function cr(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===$e&&e.documentElement.namespaceURI===$e?e.createElement(t):e.createElementNS(n,t)}}function fr(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function bn(t){var e=we(t);return(e.local?fr:cr)(e)}function hr(){}function Pe(t){return t==null?hr:function(){return this.querySelector(t)}}function dr(t){typeof t!="function"&&(t=Pe(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o=e[i],s=o.length,a=r[i]=new Array(s),c,u,l=0;l<s;++l)(c=o[l])&&(u=t.call(c,c.__data__,l,o))&&("__data__"in c&&(u.__data__=c.__data__),a[l]=u);return new ht(r,this._parents)}function gr(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function pr(){return[]}function kn(t){return t==null?pr:function(){return this.querySelectorAll(t)}}function vr(t){return function(){return gr(t.apply(this,arguments))}}function yr(t){typeof t=="function"?t=vr(t):t=kn(t);for(var e=this._groups,n=e.length,r=[],i=[],o=0;o<n;++o)for(var s=e[o],a=s.length,c,u=0;u<a;++u)(c=s[u])&&(r.push(t.call(c,c.__data__,u,s)),i.push(c));return new ht(r,i)}function Nn(t){return function(){return this.matches(t)}}function Mn(t){return function(e){return e.matches(t)}}var xr=Array.prototype.find;function mr(t){return function(){return xr.call(this.children,t)}}function wr(){return this.firstElementChild}function _r(t){return this.select(t==null?wr:mr(typeof t=="function"?t:Mn(t)))}var br=Array.prototype.filter;function kr(){return Array.from(this.children)}function Nr(t){return function(){return br.call(this.children,t)}}function Mr(t){return this.selectAll(t==null?kr:Nr(typeof t=="function"?t:Mn(t)))}function Tr(t){typeof t!="function"&&(t=Nn(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o=e[i],s=o.length,a=r[i]=[],c,u=0;u<s;++u)(c=o[u])&&t.call(c,c.__data__,u,o)&&a.push(c);return new ht(r,this._parents)}function Tn(t){return new Array(t.length)}function Er(){return new ht(this._enter||this._groups.map(Tn),this._parents)}function he(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}he.prototype={constructor:he,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function $r(t){return function(){return t}}function Cr(t,e,n,r,i,o){for(var s=0,a,c=e.length,u=o.length;s<u;++s)(a=e[s])?(a.__data__=o[s],r[s]=a):n[s]=new he(t,o[s]);for(;s<c;++s)(a=e[s])&&(i[s]=a)}function Ar(t,e,n,r,i,o,s){var a,c,u=new Map,l=e.length,p=o.length,d=new Array(l),h;for(a=0;a<l;++a)(c=e[a])&&(d[a]=h=s.call(c,c.__data__,a,e)+"",u.has(h)?i[a]=c:u.set(h,c));for(a=0;a<p;++a)h=s.call(t,o[a],a,o)+"",(c=u.get(h))?(r[a]=c,c.__data__=o[a],u.delete(h)):n[a]=new he(t,o[a]);for(a=0;a<l;++a)(c=e[a])&&u.get(d[a])===c&&(i[a]=c)}function Sr(t){return t.__data__}function zr(t,e){if(!arguments.length)return Array.from(this,Sr);var n=e?Ar:Cr,r=this._parents,i=this._groups;typeof t!="function"&&(t=$r(t));for(var o=i.length,s=new Array(o),a=new Array(o),c=new Array(o),u=0;u<o;++u){var l=r[u],p=i[u],d=p.length,h=Ir(t.call(l,l&&l.__data__,u,r)),N=h.length,v=a[u]=new Array(N),y=s[u]=new Array(N),g=c[u]=new Array(d);n(l,p,v,y,g,h,e);for(var M=0,C=0,E,R;M<N;++M)if(E=v[M]){for(M>=C&&(C=M+1);!(R=y[C])&&++C<N;);E._next=R||null}}return s=new ht(s,r),s._enter=a,s._exit=c,s}function Ir(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Dr(){return new ht(this._exit||this._groups.map(Tn),this._parents)}function Rr(t,e,n){var r=this.enter(),i=this,o=this.exit();return typeof t=="function"?(r=t(r),r&&(r=r.selection())):r=r.append(t+""),e!=null&&(i=e(i),i&&(i=i.selection())),n==null?o.remove():n(o),r&&i?r.merge(i).order():i}function Lr(t){for(var e=t.selection?t.selection():t,n=this._groups,r=e._groups,i=n.length,o=r.length,s=Math.min(i,o),a=new Array(i),c=0;c<s;++c)for(var u=n[c],l=r[c],p=u.length,d=a[c]=new Array(p),h,N=0;N<p;++N)(h=u[N]||l[N])&&(d[N]=h);for(;c<i;++c)a[c]=n[c];return new ht(a,this._parents)}function Pr(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r=t[e],i=r.length-1,o=r[i],s;--i>=0;)(s=r[i])&&(o&&s.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(s,o),o=s);return this}function Xr(t){t||(t=Yr);function e(p,d){return p&&d?t(p.__data__,d.__data__):!p-!d}for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var s=n[o],a=s.length,c=i[o]=new Array(a),u,l=0;l<a;++l)(u=s[l])&&(c[l]=u);c.sort(e)}return new ht(i,this._parents).order()}function Yr(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function Br(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function Fr(){return Array.from(this)}function Hr(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length;i<o;++i){var s=r[i];if(s)return s}return null}function Vr(){let t=0;for(const e of this)++t;return t}function Or(){return!this.node()}function qr(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i=e[n],o=0,s=i.length,a;o<s;++o)(a=i[o])&&t.call(a,a.__data__,o,i);return this}function Gr(t){return function(){this.removeAttribute(t)}}function Ur(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Kr(t,e){return function(){this.setAttribute(t,e)}}function Wr(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function Zr(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function Qr(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function Jr(t,e){var n=we(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((e==null?n.local?Ur:Gr:typeof e=="function"?n.local?Qr:Zr:n.local?Wr:Kr)(n,e))}function En(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function jr(t){return function(){this.style.removeProperty(t)}}function ti(t,e,n){return function(){this.style.setProperty(t,e,n)}}function ei(t,e,n){return function(){var r=e.apply(this,arguments);r==null?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function ni(t,e,n){return arguments.length>1?this.each((e==null?jr:typeof e=="function"?ei:ti)(t,e,n??"")):Ht(this.node(),t)}function Ht(t,e){return t.style.getPropertyValue(e)||En(t).getComputedStyle(t,null).getPropertyValue(e)}function ri(t){return function(){delete this[t]}}function ii(t,e){return function(){this[t]=e}}function oi(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function ai(t,e){return arguments.length>1?this.each((e==null?ri:typeof e=="function"?oi:ii)(t,e)):this.node()[t]}function $n(t){return t.trim().split(/^|\s+/)}function Xe(t){return t.classList||new Cn(t)}function Cn(t){this._node=t,this._names=$n(t.getAttribute("class")||"")}Cn.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function An(t,e){for(var n=Xe(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function Sn(t,e){for(var n=Xe(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function si(t){return function(){An(this,t)}}function li(t){return function(){Sn(this,t)}}function ui(t,e){return function(){(e.apply(this,arguments)?An:Sn)(this,t)}}function ci(t,e){var n=$n(t+"");if(arguments.length<2){for(var r=Xe(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof e=="function"?ui:e?si:li)(n,e))}function fi(){this.textContent=""}function hi(t){return function(){this.textContent=t}}function di(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function gi(t){return arguments.length?this.each(t==null?fi:(typeof t=="function"?di:hi)(t)):this.node().textContent}function pi(){this.innerHTML=""}function vi(t){return function(){this.innerHTML=t}}function yi(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function xi(t){return arguments.length?this.each(t==null?pi:(typeof t=="function"?yi:vi)(t)):this.node().innerHTML}function mi(){this.nextSibling&&this.parentNode.appendChild(this)}function wi(){return this.each(mi)}function _i(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function bi(){return this.each(_i)}function ki(t){var e=typeof t=="function"?t:bn(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function Ni(){return null}function Mi(t,e){var n=typeof t=="function"?t:bn(t),r=e==null?Ni:typeof e=="function"?e:Pe(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function Ti(){var t=this.parentNode;t&&t.removeChild(this)}function Ei(){return this.each(Ti)}function $i(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Ci(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Ai(t){return this.select(t?Ci:$i)}function Si(t){return arguments.length?this.property("__data__",t):this.node().__data__}function zi(t){return function(e){t.call(this,e,this.__data__)}}function Ii(t){return t.trim().split(/^|\s+/).map(function(e){var n="",r=e.indexOf(".");return r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),{type:e,name:n}})}function Di(t){return function(){var e=this.__on;if(e){for(var n=0,r=-1,i=e.length,o;n<i;++n)o=e[n],(!t.type||o.type===t.type)&&o.name===t.name?this.removeEventListener(o.type,o.listener,o.options):e[++r]=o;++r?e.length=r:delete this.__on}}}function Ri(t,e,n){return function(){var r=this.__on,i,o=zi(e);if(r){for(var s=0,a=r.length;s<a;++s)if((i=r[s]).type===t.type&&i.name===t.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=o,i.options=n),i.value=e;return}}this.addEventListener(t.type,o,n),i={type:t.type,name:t.name,value:e,listener:o,options:n},r?r.push(i):this.__on=[i]}}function Li(t,e,n){var r=Ii(t+""),i,o=r.length,s;if(arguments.length<2){var a=this.node().__on;if(a){for(var c=0,u=a.length,l;c<u;++c)for(i=0,l=a[c];i<o;++i)if((s=r[i]).type===l.type&&s.name===l.name)return l.value}return}for(a=e?Ri:Di,i=0;i<o;++i)this.each(a(r[i],e,n));return this}function zn(t,e,n){var r=En(t),i=r.CustomEvent;typeof i=="function"?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function Pi(t,e){return function(){return zn(this,t,e)}}function Xi(t,e){return function(){return zn(this,t,e.apply(this,arguments))}}function Yi(t,e){return this.each((typeof e=="function"?Xi:Pi)(t,e))}function*Bi(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length,s;i<o;++i)(s=r[i])&&(yield s)}var In=[null];function ht(t,e){this._groups=t,this._parents=e}function ee(){return new ht([[document.documentElement]],In)}function Fi(){return this}ht.prototype=ee.prototype={constructor:ht,select:dr,selectAll:yr,selectChild:_r,selectChildren:Mr,filter:Tr,data:zr,enter:Er,exit:Dr,join:Rr,merge:Lr,selection:Fi,order:Pr,sort:Xr,call:Br,nodes:Fr,node:Hr,size:Vr,empty:Or,each:qr,attr:Jr,style:ni,property:ai,classed:ci,text:gi,html:xi,raise:wi,lower:bi,append:ki,insert:Mi,remove:Ei,clone:Ai,datum:Si,on:Li,dispatch:Yi,[Symbol.iterator]:Bi};function vt(t){return typeof t=="string"?new ht([[document.querySelector(t)]],[document.documentElement]):new ht([[t]],In)}function Hi(t){let e;for(;e=t.sourceEvent;)t=e;return t}function zt(t,e){if(t=Hi(t),e===void 0&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,r=r.matrixTransform(e.getScreenCTM().inverse()),[r.x,r.y]}if(e.getBoundingClientRect){var i=e.getBoundingClientRect();return[t.clientX-i.left-e.clientLeft,t.clientY-i.top-e.clientTop]}}return[t.pageX,t.pageY]}const Ce={capture:!0,passive:!1};function Ae(t){t.preventDefault(),t.stopImmediatePropagation()}function Vi(t){var e=t.document.documentElement,n=vt(t).on("dragstart.drag",Ae,Ce);"onselectstart"in e?n.on("selectstart.drag",Ae,Ce):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function Oi(t,e){var n=t.document.documentElement,r=vt(t).on("dragstart.drag",null);e&&(r.on("click.drag",Ae,Ce),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}function Ye(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function Dn(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function ne(){}var Qt=.7,de=1/Qt,Ft="\\s*([+-]?\\d+)\\s*",Jt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",wt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",qi=/^#([0-9a-f]{3,8})$/,Gi=new RegExp(`^rgb\\(${Ft},${Ft},${Ft}\\)$`),Ui=new RegExp(`^rgb\\(${wt},${wt},${wt}\\)$`),Ki=new RegExp(`^rgba\\(${Ft},${Ft},${Ft},${Jt}\\)$`),Wi=new RegExp(`^rgba\\(${wt},${wt},${wt},${Jt}\\)$`),Zi=new RegExp(`^hsl\\(${Jt},${wt},${wt}\\)$`),Qi=new RegExp(`^hsla\\(${Jt},${wt},${wt},${Jt}\\)$`),tn={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Ye(ne,jt,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:en,formatHex:en,formatHex8:Ji,formatHsl:ji,formatRgb:nn,toString:nn});function en(){return this.rgb().formatHex()}function Ji(){return this.rgb().formatHex8()}function ji(){return Rn(this).formatHsl()}function nn(){return this.rgb().formatRgb()}function jt(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=qi.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?rn(e):n===3?new ct(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?ie(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?ie(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Gi.exec(t))?new ct(e[1],e[2],e[3],1):(e=Ui.exec(t))?new ct(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Ki.exec(t))?ie(e[1],e[2],e[3],e[4]):(e=Wi.exec(t))?ie(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Zi.exec(t))?sn(e[1],e[2]/100,e[3]/100,1):(e=Qi.exec(t))?sn(e[1],e[2]/100,e[3]/100,e[4]):tn.hasOwnProperty(t)?rn(tn[t]):t==="transparent"?new ct(NaN,NaN,NaN,0):null}function rn(t){return new ct(t>>16&255,t>>8&255,t&255,1)}function ie(t,e,n,r){return r<=0&&(t=e=n=NaN),new ct(t,e,n,r)}function to(t){return t instanceof ne||(t=jt(t)),t?(t=t.rgb(),new ct(t.r,t.g,t.b,t.opacity)):new ct}function Se(t,e,n,r){return arguments.length===1?to(t):new ct(t,e,n,r??1)}function ct(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}Ye(ct,Se,Dn(ne,{brighter(t){return t=t==null?de:Math.pow(de,t),new ct(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Qt:Math.pow(Qt,t),new ct(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new ct(Dt(this.r),Dt(this.g),Dt(this.b),ge(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:on,formatHex:on,formatHex8:eo,formatRgb:an,toString:an}));function on(){return`#${It(this.r)}${It(this.g)}${It(this.b)}`}function eo(){return`#${It(this.r)}${It(this.g)}${It(this.b)}${It((isNaN(this.opacity)?1:this.opacity)*255)}`}function an(){const t=ge(this.opacity);return`${t===1?"rgb(":"rgba("}${Dt(this.r)}, ${Dt(this.g)}, ${Dt(this.b)}${t===1?")":`, ${t})`}`}function ge(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Dt(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function It(t){return t=Dt(t),(t<16?"0":"")+t.toString(16)}function sn(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new yt(t,e,n,r)}function Rn(t){if(t instanceof yt)return new yt(t.h,t.s,t.l,t.opacity);if(t instanceof ne||(t=jt(t)),!t)return new yt;if(t instanceof yt)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),s=NaN,a=o-i,c=(o+i)/2;return a?(e===o?s=(n-r)/a+(n<r)*6:n===o?s=(r-e)/a+2:s=(e-n)/a+4,a/=c<.5?o+i:2-o-i,s*=60):a=c>0&&c<1?0:s,new yt(s,a,c,t.opacity)}function no(t,e,n,r){return arguments.length===1?Rn(t):new yt(t,e,n,r??1)}function yt(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}Ye(yt,no,Dn(ne,{brighter(t){return t=t==null?de:Math.pow(de,t),new yt(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Qt:Math.pow(Qt,t),new yt(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new ct(Me(t>=240?t-240:t+120,i,r),Me(t,i,r),Me(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new yt(ln(this.h),oe(this.s),oe(this.l),ge(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=ge(this.opacity);return`${t===1?"hsl(":"hsla("}${ln(this.h)}, ${oe(this.s)*100}%, ${oe(this.l)*100}%${t===1?")":`, ${t})`}`}}));function ln(t){return t=(t||0)%360,t<0?t+360:t}function oe(t){return Math.max(0,Math.min(1,t||0))}function Me(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const Ln=t=>()=>t;function ro(t,e){return function(n){return t+n*e}}function io(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function oo(t){return(t=+t)==1?Pn:function(e,n){return n-e?io(e,n,t):Ln(isNaN(e)?n:e)}}function Pn(t,e){var n=e-t;return n?ro(t,n):Ln(isNaN(t)?e:t)}const un=function t(e){var n=oo(e);function r(i,o){var s=n((i=Se(i)).r,(o=Se(o)).r),a=n(i.g,o.g),c=n(i.b,o.b),u=Pn(i.opacity,o.opacity);return function(l){return i.r=s(l),i.g=a(l),i.b=c(l),i.opacity=u(l),i+""}}return r.gamma=t,r}(1);function At(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}var ze=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Te=new RegExp(ze.source,"g");function ao(t){return function(){return t}}function so(t){return function(e){return t(e)+""}}function lo(t,e){var n=ze.lastIndex=Te.lastIndex=0,r,i,o,s=-1,a=[],c=[];for(t=t+"",e=e+"";(r=ze.exec(t))&&(i=Te.exec(e));)(o=i.index)>n&&(o=e.slice(n,o),a[s]?a[s]+=o:a[++s]=o),(r=r[0])===(i=i[0])?a[s]?a[s]+=i:a[++s]=i:(a[++s]=null,c.push({i:s,x:At(r,i)})),n=Te.lastIndex;return n<e.length&&(o=e.slice(n),a[s]?a[s]+=o:a[++s]=o),a.length<2?c[0]?so(c[0].x):ao(e):(e=c.length,function(u){for(var l=0,p;l<e;++l)a[(p=c[l]).i]=p.x(u);return a.join("")})}var cn=180/Math.PI,Ie={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Xn(t,e,n,r,i,o){var s,a,c;return(s=Math.sqrt(t*t+e*e))&&(t/=s,e/=s),(c=t*n+e*r)&&(n-=t*c,r-=e*c),(a=Math.sqrt(n*n+r*r))&&(n/=a,r/=a,c/=a),t*r<e*n&&(t=-t,e=-e,c=-c,s=-s),{translateX:i,translateY:o,rotate:Math.atan2(e,t)*cn,skewX:Math.atan(c)*cn,scaleX:s,scaleY:a}}var ae;function uo(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?Ie:Xn(e.a,e.b,e.c,e.d,e.e,e.f)}function co(t){return t==null||(ae||(ae=document.createElementNS("http://www.w3.org/2000/svg","g")),ae.setAttribute("transform",t),!(t=ae.transform.baseVal.consolidate()))?Ie:(t=t.matrix,Xn(t.a,t.b,t.c,t.d,t.e,t.f))}function Yn(t,e,n,r){function i(u){return u.length?u.pop()+" ":""}function o(u,l,p,d,h,N){if(u!==p||l!==d){var v=h.push("translate(",null,e,null,n);N.push({i:v-4,x:At(u,p)},{i:v-2,x:At(l,d)})}else(p||d)&&h.push("translate("+p+e+d+n)}function s(u,l,p,d){u!==l?(u-l>180?l+=360:l-u>180&&(u+=360),d.push({i:p.push(i(p)+"rotate(",null,r)-2,x:At(u,l)})):l&&p.push(i(p)+"rotate("+l+r)}function a(u,l,p,d){u!==l?d.push({i:p.push(i(p)+"skewX(",null,r)-2,x:At(u,l)}):l&&p.push(i(p)+"skewX("+l+r)}function c(u,l,p,d,h,N){if(u!==p||l!==d){var v=h.push(i(h)+"scale(",null,",",null,")");N.push({i:v-4,x:At(u,p)},{i:v-2,x:At(l,d)})}else(p!==1||d!==1)&&h.push(i(h)+"scale("+p+","+d+")")}return function(u,l){var p=[],d=[];return u=t(u),l=t(l),o(u.translateX,u.translateY,l.translateX,l.translateY,p,d),s(u.rotate,l.rotate,p,d),a(u.skewX,l.skewX,p,d),c(u.scaleX,u.scaleY,l.scaleX,l.scaleY,p,d),u=l=null,function(h){for(var N=-1,v=d.length,y;++N<v;)p[(y=d[N]).i]=y.x(h);return p.join("")}}}var fo=Yn(uo,"px, ","px)","deg)"),ho=Yn(co,", ",")",")"),go=1e-12;function fn(t){return((t=Math.exp(t))+1/t)/2}function po(t){return((t=Math.exp(t))-1/t)/2}function vo(t){return((t=Math.exp(2*t))-1)/(t+1)}const yo=function t(e,n,r){function i(o,s){var a=o[0],c=o[1],u=o[2],l=s[0],p=s[1],d=s[2],h=l-a,N=p-c,v=h*h+N*N,y,g;if(v<go)g=Math.log(d/u)/e,y=function(q){return[a+q*h,c+q*N,u*Math.exp(e*q*g)]};else{var M=Math.sqrt(v),C=(d*d-u*u+r*v)/(2*u*n*M),E=(d*d-u*u-r*v)/(2*d*n*M),R=Math.log(Math.sqrt(C*C+1)-C),X=Math.log(Math.sqrt(E*E+1)-E);g=(X-R)/e,y=function(q){var V=q*g,Q=fn(R),H=u/(n*M)*(Q*vo(e*V+R)-po(R));return[a+H*h,c+H*N,u*Q/fn(e*V+R)]}}return y.duration=g*1e3*e/Math.SQRT2,y}return i.rho=function(o){var s=Math.max(.001,+o),a=s*s,c=a*a;return t(s,a,c)},i}(Math.SQRT2,2,4);var Vt=0,Wt=0,Ut=0,Bn=1e3,pe,Zt,ve=0,Rt=0,_e=0,te=typeof performance=="object"&&performance.now?performance:Date,Fn=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Be(){return Rt||(Fn(xo),Rt=te.now()+_e)}function xo(){Rt=0}function ye(){this._call=this._time=this._next=null}ye.prototype=Fe.prototype={constructor:ye,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?Be():+n)+(e==null?0:+e),!this._next&&Zt!==this&&(Zt?Zt._next=this:pe=this,Zt=this),this._call=t,this._time=n,De()},stop:function(){this._call&&(this._call=null,this._time=1/0,De())}};function Fe(t,e,n){var r=new ye;return r.restart(t,e,n),r}function mo(){Be(),++Vt;for(var t=pe,e;t;)(e=Rt-t._time)>=0&&t._call.call(void 0,e),t=t._next;--Vt}function hn(){Rt=(ve=te.now())+_e,Vt=Wt=0;try{mo()}finally{Vt=0,_o(),Rt=0}}function wo(){var t=te.now(),e=t-ve;e>Bn&&(_e-=e,ve=t)}function _o(){for(var t,e=pe,n,r=1/0;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:pe=n);Zt=t,De(r)}function De(t){if(!Vt){Wt&&(Wt=clearTimeout(Wt));var e=t-Rt;e>24?(t<1/0&&(Wt=setTimeout(hn,t-te.now()-_e)),Ut&&(Ut=clearInterval(Ut))):(Ut||(ve=te.now(),Ut=setInterval(wo,Bn)),Vt=1,Fn(hn))}}function dn(t,e,n){var r=new ye;return e=e==null?0:+e,r.restart(i=>{r.stop(),t(i+e)},e,n),r}var bo=me("start","end","cancel","interrupt"),ko=[],Hn=0,gn=1,Re=2,ue=3,pn=4,Le=5,ce=6;function be(t,e,n,r,i,o){var s=t.__transition;if(!s)t.__transition={};else if(n in s)return;No(t,n,{name:e,index:r,group:i,on:bo,tween:ko,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:Hn})}function He(t,e){var n=xt(t,e);if(n.state>Hn)throw new Error("too late; already scheduled");return n}function _t(t,e){var n=xt(t,e);if(n.state>ue)throw new Error("too late; already running");return n}function xt(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function No(t,e,n){var r=t.__transition,i;r[e]=n,n.timer=Fe(o,0,n.time);function o(u){n.state=gn,n.timer.restart(s,n.delay,n.time),n.delay<=u&&s(u-n.delay)}function s(u){var l,p,d,h;if(n.state!==gn)return c();for(l in r)if(h=r[l],h.name===n.name){if(h.state===ue)return dn(s);h.state===pn?(h.state=ce,h.timer.stop(),h.on.call("interrupt",t,t.__data__,h.index,h.group),delete r[l]):+l<e&&(h.state=ce,h.timer.stop(),h.on.call("cancel",t,t.__data__,h.index,h.group),delete r[l])}if(dn(function(){n.state===ue&&(n.state=pn,n.timer.restart(a,n.delay,n.time),a(u))}),n.state=Re,n.on.call("start",t,t.__data__,n.index,n.group),n.state===Re){for(n.state=ue,i=new Array(d=n.tween.length),l=0,p=-1;l<d;++l)(h=n.tween[l].value.call(t,t.__data__,n.index,n.group))&&(i[++p]=h);i.length=p+1}}function a(u){for(var l=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(c),n.state=Le,1),p=-1,d=i.length;++p<d;)i[p].call(t,l);n.state===Le&&(n.on.call("end",t,t.__data__,n.index,n.group),c())}function c(){n.state=ce,n.timer.stop(),delete r[e];for(var u in r)return;delete t.__transition}}function fe(t,e){var n=t.__transition,r,i,o=!0,s;if(n){e=e==null?null:e+"";for(s in n){if((r=n[s]).name!==e){o=!1;continue}i=r.state>Re&&r.state<Le,r.state=ce,r.timer.stop(),r.on.call(i?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete n[s]}o&&delete t.__transition}}function Mo(t){return this.each(function(){fe(this,t)})}function To(t,e){var n,r;return function(){var i=_t(this,t),o=i.tween;if(o!==n){r=n=o;for(var s=0,a=r.length;s<a;++s)if(r[s].name===e){r=r.slice(),r.splice(s,1);break}}i.tween=r}}function Eo(t,e,n){var r,i;if(typeof n!="function")throw new Error;return function(){var o=_t(this,t),s=o.tween;if(s!==r){i=(r=s).slice();for(var a={name:e,value:n},c=0,u=i.length;c<u;++c)if(i[c].name===e){i[c]=a;break}c===u&&i.push(a)}o.tween=i}}function $o(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r=xt(this.node(),n).tween,i=0,o=r.length,s;i<o;++i)if((s=r[i]).name===t)return s.value;return null}return this.each((e==null?To:Eo)(n,t,e))}function Ve(t,e,n){var r=t._id;return t.each(function(){var i=_t(this,r);(i.value||(i.value={}))[e]=n.apply(this,arguments)}),function(i){return xt(i,r).value[e]}}function Vn(t,e){var n;return(typeof e=="number"?At:e instanceof jt?un:(n=jt(e))?(e=n,un):lo)(t,e)}function Co(t){return function(){this.removeAttribute(t)}}function Ao(t){return function(){this.removeAttributeNS(t.space,t.local)}}function So(t,e,n){var r,i=n+"",o;return function(){var s=this.getAttribute(t);return s===i?null:s===r?o:o=e(r=s,n)}}function zo(t,e,n){var r,i=n+"",o;return function(){var s=this.getAttributeNS(t.space,t.local);return s===i?null:s===r?o:o=e(r=s,n)}}function Io(t,e,n){var r,i,o;return function(){var s,a=n(this),c;return a==null?void this.removeAttribute(t):(s=this.getAttribute(t),c=a+"",s===c?null:s===r&&c===i?o:(i=c,o=e(r=s,a)))}}function Do(t,e,n){var r,i,o;return function(){var s,a=n(this),c;return a==null?void this.removeAttributeNS(t.space,t.local):(s=this.getAttributeNS(t.space,t.local),c=a+"",s===c?null:s===r&&c===i?o:(i=c,o=e(r=s,a)))}}function Ro(t,e){var n=we(t),r=n==="transform"?ho:Vn;return this.attrTween(t,typeof e=="function"?(n.local?Do:Io)(n,r,Ve(this,"attr."+t,e)):e==null?(n.local?Ao:Co)(n):(n.local?zo:So)(n,r,e))}function Lo(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function Po(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function Xo(t,e){var n,r;function i(){var o=e.apply(this,arguments);return o!==r&&(n=(r=o)&&Po(t,o)),n}return i._value=e,i}function Yo(t,e){var n,r;function i(){var o=e.apply(this,arguments);return o!==r&&(n=(r=o)&&Lo(t,o)),n}return i._value=e,i}function Bo(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var r=we(t);return this.tween(n,(r.local?Xo:Yo)(r,e))}function Fo(t,e){return function(){He(this,t).delay=+e.apply(this,arguments)}}function Ho(t,e){return e=+e,function(){He(this,t).delay=e}}function Vo(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?Fo:Ho)(e,t)):xt(this.node(),e).delay}function Oo(t,e){return function(){_t(this,t).duration=+e.apply(this,arguments)}}function qo(t,e){return e=+e,function(){_t(this,t).duration=e}}function Go(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?Oo:qo)(e,t)):xt(this.node(),e).duration}function Uo(t,e){if(typeof e!="function")throw new Error;return function(){_t(this,t).ease=e}}function Ko(t){var e=this._id;return arguments.length?this.each(Uo(e,t)):xt(this.node(),e).ease}function Wo(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;_t(this,t).ease=n}}function Zo(t){if(typeof t!="function")throw new Error;return this.each(Wo(this._id,t))}function Qo(t){typeof t!="function"&&(t=Nn(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o=e[i],s=o.length,a=r[i]=[],c,u=0;u<s;++u)(c=o[u])&&t.call(c,c.__data__,u,o)&&a.push(c);return new Et(r,this._parents,this._name,this._id)}function Jo(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,o=Math.min(r,i),s=new Array(r),a=0;a<o;++a)for(var c=e[a],u=n[a],l=c.length,p=s[a]=new Array(l),d,h=0;h<l;++h)(d=c[h]||u[h])&&(p[h]=d);for(;a<r;++a)s[a]=e[a];return new Et(s,this._parents,this._name,this._id)}function jo(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function ta(t,e,n){var r,i,o=jo(e)?He:_t;return function(){var s=o(this,t),a=s.on;a!==r&&(i=(r=a).copy()).on(e,n),s.on=i}}function ea(t,e){var n=this._id;return arguments.length<2?xt(this.node(),n).on.on(t):this.each(ta(n,t,e))}function na(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function ra(){return this.on("end.remove",na(this._id))}function ia(t){var e=this._name,n=this._id;typeof t!="function"&&(t=Pe(t));for(var r=this._groups,i=r.length,o=new Array(i),s=0;s<i;++s)for(var a=r[s],c=a.length,u=o[s]=new Array(c),l,p,d=0;d<c;++d)(l=a[d])&&(p=t.call(l,l.__data__,d,a))&&("__data__"in l&&(p.__data__=l.__data__),u[d]=p,be(u[d],e,n,d,u,xt(l,n)));return new Et(o,this._parents,e,n)}function oa(t){var e=this._name,n=this._id;typeof t!="function"&&(t=kn(t));for(var r=this._groups,i=r.length,o=[],s=[],a=0;a<i;++a)for(var c=r[a],u=c.length,l,p=0;p<u;++p)if(l=c[p]){for(var d=t.call(l,l.__data__,p,c),h,N=xt(l,n),v=0,y=d.length;v<y;++v)(h=d[v])&&be(h,e,n,v,d,N);o.push(d),s.push(l)}return new Et(o,s,e,n)}var aa=ee.prototype.constructor;function sa(){return new aa(this._groups,this._parents)}function la(t,e){var n,r,i;return function(){var o=Ht(this,t),s=(this.style.removeProperty(t),Ht(this,t));return o===s?null:o===n&&s===r?i:i=e(n=o,r=s)}}function On(t){return function(){this.style.removeProperty(t)}}function ua(t,e,n){var r,i=n+"",o;return function(){var s=Ht(this,t);return s===i?null:s===r?o:o=e(r=s,n)}}function ca(t,e,n){var r,i,o;return function(){var s=Ht(this,t),a=n(this),c=a+"";return a==null&&(c=a=(this.style.removeProperty(t),Ht(this,t))),s===c?null:s===r&&c===i?o:(i=c,o=e(r=s,a))}}function fa(t,e){var n,r,i,o="style."+e,s="end."+o,a;return function(){var c=_t(this,t),u=c.on,l=c.value[o]==null?a||(a=On(e)):void 0;(u!==n||i!==l)&&(r=(n=u).copy()).on(s,i=l),c.on=r}}function ha(t,e,n){var r=(t+="")=="transform"?fo:Vn;return e==null?this.styleTween(t,la(t,r)).on("end.style."+t,On(t)):typeof e=="function"?this.styleTween(t,ca(t,r,Ve(this,"style."+t,e))).each(fa(this._id,t)):this.styleTween(t,ua(t,r,e),n).on("end.style."+t,null)}function da(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function ga(t,e,n){var r,i;function o(){var s=e.apply(this,arguments);return s!==i&&(r=(i=s)&&da(t,s,n)),r}return o._value=e,o}function pa(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;return this.tween(r,ga(t,e,n??""))}function va(t){return function(){this.textContent=t}}function ya(t){return function(){var e=t(this);this.textContent=e??""}}function xa(t){return this.tween("text",typeof t=="function"?ya(Ve(this,"text",t)):va(t==null?"":t+""))}function ma(t){return function(e){this.textContent=t.call(this,e)}}function wa(t){var e,n;function r(){var i=t.apply(this,arguments);return i!==n&&(e=(n=i)&&ma(i)),e}return r._value=t,r}function _a(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,wa(t))}function ba(){for(var t=this._name,e=this._id,n=qn(),r=this._groups,i=r.length,o=0;o<i;++o)for(var s=r[o],a=s.length,c,u=0;u<a;++u)if(c=s[u]){var l=xt(c,e);be(c,t,n,u,s,{time:l.time+l.delay+l.duration,delay:0,duration:l.duration,ease:l.ease})}return new Et(r,this._parents,t,n)}function ka(){var t,e,n=this,r=n._id,i=n.size();return new Promise(function(o,s){var a={value:s},c={value:function(){--i===0&&o()}};n.each(function(){var u=_t(this,r),l=u.on;l!==t&&(e=(t=l).copy(),e._.cancel.push(a),e._.interrupt.push(a),e._.end.push(c)),u.on=e}),i===0&&o()})}var Na=0;function Et(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function qn(){return++Na}var Mt=ee.prototype;Et.prototype={constructor:Et,select:ia,selectAll:oa,selectChild:Mt.selectChild,selectChildren:Mt.selectChildren,filter:Qo,merge:Jo,selection:sa,transition:ba,call:Mt.call,nodes:Mt.nodes,node:Mt.node,size:Mt.size,empty:Mt.empty,each:Mt.each,on:ea,attr:Ro,attrTween:Bo,style:ha,styleTween:pa,text:xa,textTween:_a,remove:ra,tween:$o,delay:Vo,duration:Go,ease:Ko,easeVarying:Zo,end:ka,[Symbol.iterator]:Mt[Symbol.iterator]};function Ma(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var Ta={time:null,delay:0,duration:250,ease:Ma};function Ea(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function $a(t){var e,n;t instanceof Et?(e=t._id,t=t._name):(e=qn(),(n=Ta).time=Be(),t=t==null?null:t+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var s=r[o],a=s.length,c,u=0;u<a;++u)(c=s[u])&&be(c,t,e,u,s,n||Ea(c,e));return new Et(r,this._parents,t,e)}ee.prototype.interrupt=Mo;ee.prototype.transition=$a;function Ca(t){const e=+this._x.call(null,t),n=+this._y.call(null,t);return Gn(this.cover(e,n),e,n,t)}function Gn(t,e,n,r){if(isNaN(e)||isNaN(n))return t;var i,o=t._root,s={data:r},a=t._x0,c=t._y0,u=t._x1,l=t._y1,p,d,h,N,v,y,g,M;if(!o)return t._root=s,t;for(;o.length;)if((v=e>=(p=(a+u)/2))?a=p:u=p,(y=n>=(d=(c+l)/2))?c=d:l=d,i=o,!(o=o[g=y<<1|v]))return i[g]=s,t;if(h=+t._x.call(null,o.data),N=+t._y.call(null,o.data),e===h&&n===N)return s.next=o,i?i[g]=s:t._root=s,t;do i=i?i[g]=new Array(4):t._root=new Array(4),(v=e>=(p=(a+u)/2))?a=p:u=p,(y=n>=(d=(c+l)/2))?c=d:l=d;while((g=y<<1|v)===(M=(N>=d)<<1|h>=p));return i[M]=o,i[g]=s,t}function Aa(t){var e,n,r=t.length,i,o,s=new Array(r),a=new Array(r),c=1/0,u=1/0,l=-1/0,p=-1/0;for(n=0;n<r;++n)isNaN(i=+this._x.call(null,e=t[n]))||isNaN(o=+this._y.call(null,e))||(s[n]=i,a[n]=o,i<c&&(c=i),i>l&&(l=i),o<u&&(u=o),o>p&&(p=o));if(c>l||u>p)return this;for(this.cover(c,u).cover(l,p),n=0;n<r;++n)Gn(this,s[n],a[n],t[n]);return this}function Sa(t,e){if(isNaN(t=+t)||isNaN(e=+e))return this;var n=this._x0,r=this._y0,i=this._x1,o=this._y1;if(isNaN(n))i=(n=Math.floor(t))+1,o=(r=Math.floor(e))+1;else{for(var s=i-n||1,a=this._root,c,u;n>t||t>=i||r>e||e>=o;)switch(u=(e<r)<<1|t<n,c=new Array(4),c[u]=a,a=c,s*=2,u){case 0:i=n+s,o=r+s;break;case 1:n=i-s,o=r+s;break;case 2:i=n+s,r=o-s;break;case 3:n=i-s,r=o-s;break}this._root&&this._root.length&&(this._root=a)}return this._x0=n,this._y0=r,this._x1=i,this._y1=o,this}function za(){var t=[];return this.visit(function(e){if(!e.length)do t.push(e.data);while(e=e.next)}),t}function Ia(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function at(t,e,n,r,i){this.node=t,this.x0=e,this.y0=n,this.x1=r,this.y1=i}function Da(t,e,n){var r,i=this._x0,o=this._y0,s,a,c,u,l=this._x1,p=this._y1,d=[],h=this._root,N,v;for(h&&d.push(new at(h,i,o,l,p)),n==null?n=1/0:(i=t-n,o=e-n,l=t+n,p=e+n,n*=n);N=d.pop();)if(!(!(h=N.node)||(s=N.x0)>l||(a=N.y0)>p||(c=N.x1)<i||(u=N.y1)<o))if(h.length){var y=(s+c)/2,g=(a+u)/2;d.push(new at(h[3],y,g,c,u),new at(h[2],s,g,y,u),new at(h[1],y,a,c,g),new at(h[0],s,a,y,g)),(v=(e>=g)<<1|t>=y)&&(N=d[d.length-1],d[d.length-1]=d[d.length-1-v],d[d.length-1-v]=N)}else{var M=t-+this._x.call(null,h.data),C=e-+this._y.call(null,h.data),E=M*M+C*C;if(E<n){var R=Math.sqrt(n=E);i=t-R,o=e-R,l=t+R,p=e+R,r=h.data}}return r}function Ra(t){if(isNaN(l=+this._x.call(null,t))||isNaN(p=+this._y.call(null,t)))return this;var e,n=this._root,r,i,o,s=this._x0,a=this._y0,c=this._x1,u=this._y1,l,p,d,h,N,v,y,g;if(!n)return this;if(n.length)for(;;){if((N=l>=(d=(s+c)/2))?s=d:c=d,(v=p>=(h=(a+u)/2))?a=h:u=h,e=n,!(n=n[y=v<<1|N]))return this;if(!n.length)break;(e[y+1&3]||e[y+2&3]||e[y+3&3])&&(r=e,g=y)}for(;n.data!==t;)if(i=n,!(n=n.next))return this;return(o=n.next)&&delete n.next,i?(o?i.next=o:delete i.next,this):e?(o?e[y]=o:delete e[y],(n=e[0]||e[1]||e[2]||e[3])&&n===(e[3]||e[2]||e[1]||e[0])&&!n.length&&(r?r[g]=n:this._root=n),this):(this._root=o,this)}function La(t){for(var e=0,n=t.length;e<n;++e)this.remove(t[e]);return this}function Pa(){return this._root}function Xa(){var t=0;return this.visit(function(e){if(!e.length)do++t;while(e=e.next)}),t}function Ya(t){var e=[],n,r=this._root,i,o,s,a,c;for(r&&e.push(new at(r,this._x0,this._y0,this._x1,this._y1));n=e.pop();)if(!t(r=n.node,o=n.x0,s=n.y0,a=n.x1,c=n.y1)&&r.length){var u=(o+a)/2,l=(s+c)/2;(i=r[3])&&e.push(new at(i,u,l,a,c)),(i=r[2])&&e.push(new at(i,o,l,u,c)),(i=r[1])&&e.push(new at(i,u,s,a,l)),(i=r[0])&&e.push(new at(i,o,s,u,l))}return this}function Ba(t){var e=[],n=[],r;for(this._root&&e.push(new at(this._root,this._x0,this._y0,this._x1,this._y1));r=e.pop();){var i=r.node;if(i.length){var o,s=r.x0,a=r.y0,c=r.x1,u=r.y1,l=(s+c)/2,p=(a+u)/2;(o=i[0])&&e.push(new at(o,s,a,l,p)),(o=i[1])&&e.push(new at(o,l,a,c,p)),(o=i[2])&&e.push(new at(o,s,p,l,u)),(o=i[3])&&e.push(new at(o,l,p,c,u))}n.push(r)}for(;r=n.pop();)t(r.node,r.x0,r.y0,r.x1,r.y1);return this}function Fa(t){return t[0]}function Ha(t){return arguments.length?(this._x=t,this):this._x}function Va(t){return t[1]}function Oa(t){return arguments.length?(this._y=t,this):this._y}function Oe(t,e,n){var r=new qe(e??Fa,n??Va,NaN,NaN,NaN,NaN);return t==null?r:r.addAll(t)}function qe(t,e,n,r,i,o){this._x=t,this._y=e,this._x0=n,this._y0=r,this._x1=i,this._y1=o,this._root=void 0}function vn(t){for(var e={data:t.data},n=e;t=t.next;)n=n.next={data:t.data};return e}var lt=Oe.prototype=qe.prototype;lt.copy=function(){var t=new qe(this._x,this._y,this._x0,this._y0,this._x1,this._y1),e=this._root,n,r;if(!e)return t;if(!e.length)return t._root=vn(e),t;for(n=[{source:e,target:t._root=new Array(4)}];e=n.pop();)for(var i=0;i<4;++i)(r=e.source[i])&&(r.length?n.push({source:r,target:e.target[i]=new Array(4)}):e.target[i]=vn(r));return t};lt.add=Ca;lt.addAll=Aa;lt.cover=Sa;lt.data=za;lt.extent=Ia;lt.find=Da;lt.remove=Ra;lt.removeAll=La;lt.root=Pa;lt.size=Xa;lt.visit=Ya;lt.visitAfter=Ba;lt.x=Ha;lt.y=Oa;function st(t){return function(){return t}}function St(t){return(t()-.5)*1e-6}function qa(t){return t.x+t.vx}function Ga(t){return t.y+t.vy}function Ua(t){var e,n,r,i=1,o=1;typeof t!="function"&&(t=st(t==null?1:+t));function s(){for(var u,l=e.length,p,d,h,N,v,y,g=0;g<o;++g)for(p=Oe(e,qa,Ga).visitAfter(a),u=0;u<l;++u)d=e[u],v=n[d.index],y=v*v,h=d.x+d.vx,N=d.y+d.vy,p.visit(M);function M(C,E,R,X,q){var V=C.data,Q=C.r,H=v+Q;if(V){if(V.index>d.index){var P=h-V.x-V.vx,Y=N-V.y-V.vy,F=P*P+Y*Y;F<H*H&&(P===0&&(P=St(r),F+=P*P),Y===0&&(Y=St(r),F+=Y*Y),F=(H-(F=Math.sqrt(F)))/F*i,d.vx+=(P*=F)*(H=(Q*=Q)/(y+Q)),d.vy+=(Y*=F)*H,V.vx-=P*(H=1-H),V.vy-=Y*H)}return}return E>h+H||X<h-H||R>N+H||q<N-H}}function a(u){if(u.data)return u.r=n[u.data.index];for(var l=u.r=0;l<4;++l)u[l]&&u[l].r>u.r&&(u.r=u[l].r)}function c(){if(e){var u,l=e.length,p;for(n=new Array(l),u=0;u<l;++u)p=e[u],n[p.index]=+t(p,u,e)}}return s.initialize=function(u,l){e=u,r=l,c()},s.iterations=function(u){return arguments.length?(o=+u,s):o},s.strength=function(u){return arguments.length?(i=+u,s):i},s.radius=function(u){return arguments.length?(t=typeof u=="function"?u:st(+u),c(),s):t},s}function Ka(t){return t.index}function yn(t,e){var n=t.get(e);if(!n)throw new Error("node not found: "+e);return n}function Wa(t){var e=Ka,n=p,r,i=st(30),o,s,a,c,u,l=1;t==null&&(t=[]);function p(y){return 1/Math.min(a[y.source.index],a[y.target.index])}function d(y){for(var g=0,M=t.length;g<l;++g)for(var C=0,E,R,X,q,V,Q,H;C<M;++C)E=t[C],R=E.source,X=E.target,q=X.x+X.vx-R.x-R.vx||St(u),V=X.y+X.vy-R.y-R.vy||St(u),Q=Math.sqrt(q*q+V*V),Q=(Q-o[C])/Q*y*r[C],q*=Q,V*=Q,X.vx-=q*(H=c[C]),X.vy-=V*H,R.vx+=q*(H=1-H),R.vy+=V*H}function h(){if(s){var y,g=s.length,M=t.length,C=new Map(s.map((R,X)=>[e(R,X,s),R])),E;for(y=0,a=new Array(g);y<M;++y)E=t[y],E.index=y,typeof E.source!="object"&&(E.source=yn(C,E.source)),typeof E.target!="object"&&(E.target=yn(C,E.target)),a[E.source.index]=(a[E.source.index]||0)+1,a[E.target.index]=(a[E.target.index]||0)+1;for(y=0,c=new Array(M);y<M;++y)E=t[y],c[y]=a[E.source.index]/(a[E.source.index]+a[E.target.index]);r=new Array(M),N(),o=new Array(M),v()}}function N(){if(s)for(var y=0,g=t.length;y<g;++y)r[y]=+n(t[y],y,t)}function v(){if(s)for(var y=0,g=t.length;y<g;++y)o[y]=+i(t[y],y,t)}return d.initialize=function(y,g){s=y,u=g,h()},d.links=function(y){return arguments.length?(t=y,h(),d):t},d.id=function(y){return arguments.length?(e=y,d):e},d.iterations=function(y){return arguments.length?(l=+y,d):l},d.strength=function(y){return arguments.length?(n=typeof y=="function"?y:st(+y),N(),d):n},d.distance=function(y){return arguments.length?(i=typeof y=="function"?y:st(+y),v(),d):i},d}const Za=1664525,Qa=1013904223,xn=4294967296;function Ja(){let t=1;return()=>(t=(Za*t+Qa)%xn)/xn}function ja(t){return t.x}function ts(t){return t.y}var es=10,ns=Math.PI*(3-Math.sqrt(5));function rs(t){var e,n=1,r=.001,i=1-Math.pow(r,1/300),o=0,s=.6,a=new Map,c=Fe(p),u=me("tick","end"),l=Ja();t==null&&(t=[]);function p(){d(),u.call("tick",e),n<r&&(c.stop(),u.call("end",e))}function d(v){var y,g=t.length,M;v===void 0&&(v=1);for(var C=0;C<v;++C)for(n+=(o-n)*i,a.forEach(function(E){E(n)}),y=0;y<g;++y)M=t[y],M.fx==null?M.x+=M.vx*=s:(M.x=M.fx,M.vx=0),M.fy==null?M.y+=M.vy*=s:(M.y=M.fy,M.vy=0);return e}function h(){for(var v=0,y=t.length,g;v<y;++v){if(g=t[v],g.index=v,g.fx!=null&&(g.x=g.fx),g.fy!=null&&(g.y=g.fy),isNaN(g.x)||isNaN(g.y)){var M=es*Math.sqrt(.5+v),C=v*ns;g.x=M*Math.cos(C),g.y=M*Math.sin(C)}(isNaN(g.vx)||isNaN(g.vy))&&(g.vx=g.vy=0)}}function N(v){return v.initialize&&v.initialize(t,l),v}return h(),e={tick:d,restart:function(){return c.restart(p),e},stop:function(){return c.stop(),e},nodes:function(v){return arguments.length?(t=v,h(),a.forEach(N),e):t},alpha:function(v){return arguments.length?(n=+v,e):n},alphaMin:function(v){return arguments.length?(r=+v,e):r},alphaDecay:function(v){return arguments.length?(i=+v,e):+i},alphaTarget:function(v){return arguments.length?(o=+v,e):o},velocityDecay:function(v){return arguments.length?(s=1-v,e):1-s},randomSource:function(v){return arguments.length?(l=v,a.forEach(N),e):l},force:function(v,y){return arguments.length>1?(y==null?a.delete(v):a.set(v,N(y)),e):a.get(v)},find:function(v,y,g){var M=0,C=t.length,E,R,X,q,V;for(g==null?g=1/0:g*=g,M=0;M<C;++M)q=t[M],E=v-q.x,R=y-q.y,X=E*E+R*R,X<g&&(V=q,g=X);return V},on:function(v,y){return arguments.length>1?(u.on(v,y),e):u.on(v)}}}function is(){var t,e,n,r,i=st(-30),o,s=1,a=1/0,c=.81;function u(h){var N,v=t.length,y=Oe(t,ja,ts).visitAfter(p);for(r=h,N=0;N<v;++N)e=t[N],y.visit(d)}function l(){if(t){var h,N=t.length,v;for(o=new Array(N),h=0;h<N;++h)v=t[h],o[v.index]=+i(v,h,t)}}function p(h){var N=0,v,y,g=0,M,C,E;if(h.length){for(M=C=E=0;E<4;++E)(v=h[E])&&(y=Math.abs(v.value))&&(N+=v.value,g+=y,M+=y*v.x,C+=y*v.y);h.x=M/g,h.y=C/g}else{v=h,v.x=v.data.x,v.y=v.data.y;do N+=o[v.data.index];while(v=v.next)}h.value=N}function d(h,N,v,y){if(!h.value)return!0;var g=h.x-e.x,M=h.y-e.y,C=y-N,E=g*g+M*M;if(C*C/c<E)return E<a&&(g===0&&(g=St(n),E+=g*g),M===0&&(M=St(n),E+=M*M),E<s&&(E=Math.sqrt(s*E)),e.vx+=g*h.value*r/E,e.vy+=M*h.value*r/E),!0;if(h.length||E>=a)return;(h.data!==e||h.next)&&(g===0&&(g=St(n),E+=g*g),M===0&&(M=St(n),E+=M*M),E<s&&(E=Math.sqrt(s*E)));do h.data!==e&&(C=o[h.data.index]*r/E,e.vx+=g*C,e.vy+=M*C);while(h=h.next)}return u.initialize=function(h,N){t=h,n=N,l()},u.strength=function(h){return arguments.length?(i=typeof h=="function"?h:st(+h),l(),u):i},u.distanceMin=function(h){return arguments.length?(s=h*h,u):Math.sqrt(s)},u.distanceMax=function(h){return arguments.length?(a=h*h,u):Math.sqrt(a)},u.theta=function(h){return arguments.length?(c=h*h,u):Math.sqrt(c)},u}function os(t){var e=st(.1),n,r,i;typeof t!="function"&&(t=st(t==null?0:+t));function o(a){for(var c=0,u=n.length,l;c<u;++c)l=n[c],l.vx+=(i[c]-l.x)*r[c]*a}function s(){if(n){var a,c=n.length;for(r=new Array(c),i=new Array(c),a=0;a<c;++a)r[a]=isNaN(i[a]=+t(n[a],a,n))?0:+e(n[a],a,n)}}return o.initialize=function(a){n=a,s()},o.strength=function(a){return arguments.length?(e=typeof a=="function"?a:st(+a),s(),o):e},o.x=function(a){return arguments.length?(t=typeof a=="function"?a:st(+a),s(),o):t},o}function as(t){var e=st(.1),n,r,i;typeof t!="function"&&(t=st(t==null?0:+t));function o(a){for(var c=0,u=n.length,l;c<u;++c)l=n[c],l.vy+=(i[c]-l.y)*r[c]*a}function s(){if(n){var a,c=n.length;for(r=new Array(c),i=new Array(c),a=0;a<c;++a)r[a]=isNaN(i[a]=+t(n[a],a,n))?0:+e(n[a],a,n)}}return o.initialize=function(a){n=a,s()},o.strength=function(a){return arguments.length?(e=typeof a=="function"?a:st(+a),s(),o):e},o.y=function(a){return arguments.length?(t=typeof a=="function"?a:st(+a),s(),o):t},o}const se=t=>()=>t;function ss(t,{sourceEvent:e,target:n,transform:r,dispatch:i}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:i}})}function Tt(t,e,n){this.k=t,this.x=e,this.y=n}Tt.prototype={constructor:Tt,scale:function(t){return t===1?this:new Tt(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new Tt(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var xe=new Tt(1,0,0);Tt.prototype;function Ee(t){t.stopImmediatePropagation()}function Kt(t){t.preventDefault(),t.stopImmediatePropagation()}function ls(t){return(!t.ctrlKey||t.type==="wheel")&&!t.button}function us(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t,t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]):[[0,0],[t.clientWidth,t.clientHeight]]}function mn(){return this.__zoom||xe}function cs(t){return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function fs(){return navigator.maxTouchPoints||"ontouchstart"in this}function hs(t,e,n){var r=t.invertX(e[0][0])-n[0][0],i=t.invertX(e[1][0])-n[1][0],o=t.invertY(e[0][1])-n[0][1],s=t.invertY(e[1][1])-n[1][1];return t.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),s>o?(o+s)/2:Math.min(0,o)||Math.max(0,s))}function ds(){var t=ls,e=us,n=hs,r=cs,i=fs,o=[0,1/0],s=[[-1/0,-1/0],[1/0,1/0]],a=250,c=yo,u=me("start","zoom","end"),l,p,d,h=500,N=150,v=0,y=10;function g(f){f.property("__zoom",mn).on("wheel.zoom",V,{passive:!1}).on("mousedown.zoom",Q).on("dblclick.zoom",H).filter(i).on("touchstart.zoom",P).on("touchmove.zoom",Y).on("touchend.zoom touchcancel.zoom",F).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}g.transform=function(f,b,x,T){var $=f.selection?f.selection():f;$.property("__zoom",mn),f!==$?R(f,b,x,T):$.interrupt().each(function(){X(this,arguments).event(T).start().zoom(null,typeof b=="function"?b.apply(this,arguments):b).end()})},g.scaleBy=function(f,b,x,T){g.scaleTo(f,function(){var $=this.__zoom.k,S=typeof b=="function"?b.apply(this,arguments):b;return $*S},x,T)},g.scaleTo=function(f,b,x,T){g.transform(f,function(){var $=e.apply(this,arguments),S=this.__zoom,z=x==null?E($):typeof x=="function"?x.apply(this,arguments):x,I=S.invert(z),B=typeof b=="function"?b.apply(this,arguments):b;return n(C(M(S,B),z,I),$,s)},x,T)},g.translateBy=function(f,b,x,T){g.transform(f,function(){return n(this.__zoom.translate(typeof b=="function"?b.apply(this,arguments):b,typeof x=="function"?x.apply(this,arguments):x),e.apply(this,arguments),s)},null,T)},g.translateTo=function(f,b,x,T,$){g.transform(f,function(){var S=e.apply(this,arguments),z=this.__zoom,I=T==null?E(S):typeof T=="function"?T.apply(this,arguments):T;return n(xe.translate(I[0],I[1]).scale(z.k).translate(typeof b=="function"?-b.apply(this,arguments):-b,typeof x=="function"?-x.apply(this,arguments):-x),S,s)},T,$)};function M(f,b){return b=Math.max(o[0],Math.min(o[1],b)),b===f.k?f:new Tt(b,f.x,f.y)}function C(f,b,x){var T=b[0]-x[0]*f.k,$=b[1]-x[1]*f.k;return T===f.x&&$===f.y?f:new Tt(f.k,T,$)}function E(f){return[(+f[0][0]+ +f[1][0])/2,(+f[0][1]+ +f[1][1])/2]}function R(f,b,x,T){f.on("start.zoom",function(){X(this,arguments).event(T).start()}).on("interrupt.zoom end.zoom",function(){X(this,arguments).event(T).end()}).tween("zoom",function(){var $=this,S=arguments,z=X($,S).event(T),I=e.apply($,S),B=x==null?E(I):typeof x=="function"?x.apply($,S):x,et=Math.max(I[1][0]-I[0][0],I[1][1]-I[0][1]),O=$.__zoom,J=typeof b=="function"?b.apply($,S):b,W=c(O.invert(B).concat(et/O.k),J.invert(B).concat(et/J.k));return function(nt){if(nt===1)nt=J;else{var ut=W(nt),bt=et/ut[2];nt=new Tt(bt,B[0]-ut[0]*bt,B[1]-ut[1]*bt)}z.zoom(null,nt)}})}function X(f,b,x){return!x&&f.__zooming||new q(f,b)}function q(f,b){this.that=f,this.args=b,this.active=0,this.sourceEvent=null,this.extent=e.apply(f,b),this.taps=0}q.prototype={event:function(f){return f&&(this.sourceEvent=f),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(f,b){return this.mouse&&f!=="mouse"&&(this.mouse[1]=b.invert(this.mouse[0])),this.touch0&&f!=="touch"&&(this.touch0[1]=b.invert(this.touch0[0])),this.touch1&&f!=="touch"&&(this.touch1[1]=b.invert(this.touch1[0])),this.that.__zoom=b,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(f){var b=vt(this.that).datum();u.call(f,this.that,new ss(f,{sourceEvent:this.sourceEvent,target:g,transform:this.that.__zoom,dispatch:u}),b)}};function V(f,...b){if(!t.apply(this,arguments))return;var x=X(this,b).event(f),T=this.__zoom,$=Math.max(o[0],Math.min(o[1],T.k*Math.pow(2,r.apply(this,arguments)))),S=zt(f);if(x.wheel)(x.mouse[0][0]!==S[0]||x.mouse[0][1]!==S[1])&&(x.mouse[1]=T.invert(x.mouse[0]=S)),clearTimeout(x.wheel);else{if(T.k===$)return;x.mouse=[S,T.invert(S)],fe(this),x.start()}Kt(f),x.wheel=setTimeout(z,N),x.zoom("mouse",n(C(M(T,$),x.mouse[0],x.mouse[1]),x.extent,s));function z(){x.wheel=null,x.end()}}function Q(f,...b){if(d||!t.apply(this,arguments))return;var x=f.currentTarget,T=X(this,b,!0).event(f),$=vt(f.view).on("mousemove.zoom",B,!0).on("mouseup.zoom",et,!0),S=zt(f,x),z=f.clientX,I=f.clientY;Vi(f.view),Ee(f),T.mouse=[S,this.__zoom.invert(S)],fe(this),T.start();function B(O){if(Kt(O),!T.moved){var J=O.clientX-z,W=O.clientY-I;T.moved=J*J+W*W>v}T.event(O).zoom("mouse",n(C(T.that.__zoom,T.mouse[0]=zt(O,x),T.mouse[1]),T.extent,s))}function et(O){$.on("mousemove.zoom mouseup.zoom",null),Oi(O.view,T.moved),Kt(O),T.event(O).end()}}function H(f,...b){if(t.apply(this,arguments)){var x=this.__zoom,T=zt(f.changedTouches?f.changedTouches[0]:f,this),$=x.invert(T),S=x.k*(f.shiftKey?.5:2),z=n(C(M(x,S),T,$),e.apply(this,b),s);Kt(f),a>0?vt(this).transition().duration(a).call(R,z,T,f):vt(this).call(g.transform,z,T,f)}}function P(f,...b){if(t.apply(this,arguments)){var x=f.touches,T=x.length,$=X(this,b,f.changedTouches.length===T).event(f),S,z,I,B;for(Ee(f),z=0;z<T;++z)I=x[z],B=zt(I,this),B=[B,this.__zoom.invert(B),I.identifier],$.touch0?!$.touch1&&$.touch0[2]!==B[2]&&($.touch1=B,$.taps=0):($.touch0=B,S=!0,$.taps=1+!!l);l&&(l=clearTimeout(l)),S&&($.taps<2&&(p=B[0],l=setTimeout(function(){l=null},h)),fe(this),$.start())}}function Y(f,...b){if(this.__zooming){var x=X(this,b).event(f),T=f.changedTouches,$=T.length,S,z,I,B;for(Kt(f),S=0;S<$;++S)z=T[S],I=zt(z,this),x.touch0&&x.touch0[2]===z.identifier?x.touch0[0]=I:x.touch1&&x.touch1[2]===z.identifier&&(x.touch1[0]=I);if(z=x.that.__zoom,x.touch1){var et=x.touch0[0],O=x.touch0[1],J=x.touch1[0],W=x.touch1[1],nt=(nt=J[0]-et[0])*nt+(nt=J[1]-et[1])*nt,ut=(ut=W[0]-O[0])*ut+(ut=W[1]-O[1])*ut;z=M(z,Math.sqrt(nt/ut)),I=[(et[0]+J[0])/2,(et[1]+J[1])/2],B=[(O[0]+W[0])/2,(O[1]+W[1])/2]}else if(x.touch0)I=x.touch0[0],B=x.touch0[1];else return;x.zoom("touch",n(C(z,I,B),x.extent,s))}}function F(f,...b){if(this.__zooming){var x=X(this,b).event(f),T=f.changedTouches,$=T.length,S,z;for(Ee(f),d&&clearTimeout(d),d=setTimeout(function(){d=null},h),S=0;S<$;++S)z=T[S],x.touch0&&x.touch0[2]===z.identifier?delete x.touch0:x.touch1&&x.touch1[2]===z.identifier&&delete x.touch1;if(x.touch1&&!x.touch0&&(x.touch0=x.touch1,delete x.touch1),x.touch0)x.touch0[1]=this.__zoom.invert(x.touch0[0]);else if(x.end(),x.taps===2&&(z=zt(z,this),Math.hypot(p[0]-z[0],p[1]-z[1])<y)){var I=vt(this).on("dblclick.zoom");I&&I.apply(this,arguments)}}}return g.wheelDelta=function(f){return arguments.length?(r=typeof f=="function"?f:se(+f),g):r},g.filter=function(f){return arguments.length?(t=typeof f=="function"?f:se(!!f),g):t},g.touchable=function(f){return arguments.length?(i=typeof f=="function"?f:se(!!f),g):i},g.extent=function(f){return arguments.length?(e=typeof f=="function"?f:se([[+f[0][0],+f[0][1]],[+f[1][0],+f[1][1]]]),g):e},g.scaleExtent=function(f){return arguments.length?(o[0]=+f[0],o[1]=+f[1],g):[o[0],o[1]]},g.translateExtent=function(f){return arguments.length?(s[0][0]=+f[0][0],s[1][0]=+f[1][0],s[0][1]=+f[0][1],s[1][1]=+f[1][1],g):[[s[0][0],s[0][1]],[s[1][0],s[1][1]]]},g.constrain=function(f){return arguments.length?(n=f,g):n},g.duration=function(f){return arguments.length?(a=+f,g):a},g.interpolate=function(f){return arguments.length?(c=f,g):c},g.on=function(){var f=u.on.apply(u,arguments);return f===u?g:f},g.clickDistance=function(f){return arguments.length?(v=(f=+f)*f,g):Math.sqrt(v)},g.tapDistance=function(f){return arguments.length?(y=+f,g):y},g}const gs=()=>{const t=ot(rr),e=t.value.find(i=>i.id==="core");if(e){const i=new Date("1999-02-28"),o=new Date;let s=o.getFullYear()-i.getFullYear();const a=o.getMonth()-i.getMonth();(a<0||a===0&&o.getDate()<i.getDate())&&s--,e.level=s}const n=()=>{const i=[];return t.value.forEach(o=>{o.dependencies.forEach(s=>{i.push({id:`${s}-${o.id}`,source:s,target:o.id})})}),i};return(()=>{const i=new Map,o=[],s=t.value.find(a=>a.id==="core");for(s&&(o.push({id:s.id,depth:0}),i.set(s.id,0));o.length>0;){const{id:a,depth:c}=o.shift();t.value.filter(l=>l.dependencies.includes(a)).forEach(l=>{i.has(l.id)||(i.set(l.id,c+1),o.push({id:l.id,depth:c+1}))})}t.value.forEach(a=>{const c=i.get(a.id)??99;a.depth=c,a.tier=c})})(),{skills:t,getLinks:n}},ps=()=>{const t=ot(typeof window<"u"?window.innerWidth:1024),e=ot(typeof window<"u"?window.innerHeight:768),n=768,r=1024,i=mt(()=>t.value<n),o=mt(()=>t.value>=n&&t.value<r),s=mt(()=>t.value>=r),a=mt(()=>typeof window>"u"?!1:"ontouchstart"in window||navigator.maxTouchPoints>0),c=mt(()=>i.value||o.value);let u=null;const l=()=>{u&&clearTimeout(u),u=setTimeout(()=>{t.value=window.innerWidth,e.value=window.innerHeight},100)};return wn(()=>{t.value=window.innerWidth,e.value=window.innerHeight,window.addEventListener("resize",l)}),_n(()=>{window.removeEventListener("resize",l),u&&clearTimeout(u)}),{windowWidth:t,windowHeight:e,isMobile:i,isTablet:o,isDesktop:s,isTouch:a,isSmallScreen:c}},vs=t=>{const{containerRef:e,width:n,height:r,skills:i,simulation:o,onNodeSelect:s}=t,a=ot({k:1,x:0,y:0}),c=ot(!1),u=ot(!1);let l=null;const p=mt(()=>`translate(${n.value/2+a.value.x}, ${r.value/2+a.value.y}) scale(${a.value.k})`),d=mt(()=>`translate(${n.value/2+a.value.x}px, ${r.value/2+a.value.y}px) scale(${a.value.k})`),h=()=>e.value?(l=ds().scaleExtent([.3,3]).on("start",()=>{u.value=!0}).on("zoom",P=>{a.value=P.transform}).on("end",()=>{u.value=!1}),vt(e.value).call(l),l):null,N=(P=!1)=>{if(!e.value||i.value.length===0)return;let Y=1/0,F=1/0,f=-1/0,b=-1/0;i.value.forEach(W=>{W.x!==void 0&&W.y!==void 0&&(Y=Math.min(Y,W.x),F=Math.min(F,W.y),f=Math.max(f,W.x),b=Math.max(b,W.y))});const x=100,T=f-Y+x*2,$=b-F+x*2,S=n.value/T,z=r.value/$;let I=Math.min(S,z);P?(I=Math.min(I,.25),I=Math.max(I,.15)):(I=Math.min(I,1.5),I=Math.max(I,.3));const B=(Y+f)/2,et=(F+b)/2,O=-B*I,J=-et*I;if(a.value={k:I,x:O,y:J},l&&e.value){const W=xe.translate(O,J).scale(I);vt(e.value).transition().duration(750).call(l.transform,W)}};let v=[],y=1,g=0,M=0,C=!1,E=null;const R=()=>{if(!e.value)return;const P=e.value,Y=x=>{v=Array.from(x.touches).map(T=>({x:T.clientX,y:T.clientY,id:T.identifier})),y=a.value.k,g=a.value.x,M=a.value.y,x.touches.length===1&&(C=!0)},F=x=>{if(x.cancelable&&x.preventDefault(),x.touches.length===2){const T=x.touches[0],$=x.touches[1],S=Math.sqrt(Math.pow(T.clientX-$.clientX,2)+Math.pow(T.clientY-$.clientY,2)),z=v.find(B=>B.id===T.identifier),I=v.find(B=>B.id===$.identifier);if(z&&I){const B=Math.sqrt(Math.pow(z.x-I.x,2)+Math.pow(z.y-I.y,2));if(B>0){const et=S/B;let O=y*et;O=Math.max(.15,Math.min(2,O));const J=(T.clientX+$.clientX)/2,W=(T.clientY+$.clientY)/2,nt=P.getBoundingClientRect(),ut=J-nt.left-n.value/2,bt=W-nt.top-r.value/2,Lt=O/a.value.k,Ot=ut-(ut-a.value.x)*Lt,gt=bt-(bt-a.value.y)*Lt;a.value={k:O,x:Ot,y:gt}}}}else if(x.touches.length===1&&C){const T=x.touches[0],$=v.find(S=>S.id===T.identifier);if($){const S=T.clientX-$.x,z=T.clientY-$.y;a.value={k:a.value.k,x:g+S,y:M+z}}}},f=()=>{v=[],C=!1};P.addEventListener("touchstart",Y,{passive:!0}),P.addEventListener("touchmove",F,{passive:!1}),P.addEventListener("touchend",f,{passive:!0});const b=()=>{P.removeEventListener("touchstart",Y),P.removeEventListener("touchmove",F),P.removeEventListener("touchend",f)};return E=b,b},X=P=>{if(!e.value||!l||P.x===void 0||P.y===void 0)return;const Y=a.value.k,F=-P.x*Y,f=-P.y*Y,b=xe.translate(F,f).scale(Y);vt(e.value).transition().duration(500).call(l.transform,b)};return{transform:a,isDragging:c,isPanning:u,graphTransform:p,graphTransformCSS:d,initZoom:h,initMobileTouch:R,fitToView:N,centerOnNode:X,dragStart:(P,Y)=>{if(!o.value)return;P.preventDefault(),c.value=!0,o.value.alphaTarget(.3).restart(),Y.fx=Y.x,Y.fy=Y.y;const F=b=>{b.preventDefault();const x="touches"in b?b.touches[0].clientX:b.clientX,T="touches"in b?b.touches[0].clientY:b.clientY;if(e.value){const $=e.value.getBoundingClientRect(),S=x-$.left,z=T-$.top;Y.fx=(S-n.value/2-a.value.x)/a.value.k,Y.fy=(z-r.value/2-a.value.y)/a.value.k}},f=()=>{c.value=!1,o.value&&(o.value.alphaTarget(0),Y.fx=null,Y.fy=null,window.removeEventListener("mousemove",F),window.removeEventListener("touchmove",F),window.removeEventListener("mouseup",f),window.removeEventListener("touchend",f))};window.addEventListener("mousemove",F),window.addEventListener("touchmove",F,{passive:!1}),window.addEventListener("mouseup",f),window.addEventListener("touchend",f)},handleDoubleClick:P=>{X(P),s==null||s(P)},resetZoom:()=>{N()},cleanup:()=>{e.value&&l&&vt(e.value).on(".zoom",null),l=null,E&&(E(),E=null)}}},ys={class:"min-h-screen bg-transparent text-white py-20 px-4 relative overflow-hidden selection:bg-primary selection:text-black font-sans"},xs={class:"max-w-7xl mx-auto relative z-10 h-full flex flex-col"},ms={class:"relative mb-5"},ws={class:"relative z-10 flex flex-col md:flex-row justify-between items-start md:items-end gap-6 pb-6"},_s={class:"self-start"},bs={class:"text-gray-500 terminal-font text-sm tracking-wider sm:tracking-widest"},ks={class:"flex-1 relative flex flex-col lg:flex-row gap-8 items-stretch justify-center"},Ns={key:0,class:"absolute inset-0 flex items-center justify-center z-30 bg-black/90 backdrop-blur-sm"},Ms={class:"absolute bottom-4 right-4 z-20 flex flex-col gap-2"},Ts={class:"absolute inset-0 w-full h-full overflow-visible pointer-events-none"},Es=["transform"],$s=["d"],Cs=["d","stroke"],As={class:"absolute inset-0 w-full h-full overflow-visible pointer-events-none"},Ss={class:"absolute top-0 left-0 w-0 h-0"},zs=["onClick","onDblclick","onMousedown","onTouchstartPassive"],Is={key:0,class:"absolute inset-0 -m-2 rounded-full"},Ds=["viewBox","fill","stroke","stroke-width","width","height"],Rs=["d"],Ls={key:1,class:"fixed inset-x-0 bottom-0 z-50 pointer-events-auto"},Ps={class:"p-8 pt-10 pb-6 border-b border-gray-800 relative bg-surface-card overflow-hidden"},Xs={class:"absolute -right-8 top-1/2 -translate-y-1/2 opacity-[0.06] pointer-events-none"},Ys=["viewBox","fill","stroke","stroke-width"],Bs=["d"],Fs={class:"absolute top-3 right-3"},Hs={class:"flex items-start justify-between mb-4 relative z-10"},Vs={class:"text-3xl font-black text-white terminal-font uppercase tracking-widest mb-1"},Os={class:"flex items-center gap-2"},qs={class:"text-gray-500 text-xs terminal-font"},Gs={class:"flex-1 overflow-y-auto custom-scrollbar p-8 bg-surface"},Us={class:"mb-8"},Ks={class:"text-gray-300 leading-relaxed font-mono text-sm"},Ws={class:"space-y-3 mb-6"},Zs={class:"flex items-center gap-2"},Qs={class:"flex justify-between text-xs terminal-font mt-1 text-gray-500"},Js={class:"mt-8 pt-4 border-t border-gray-800 border-dashed"},js={class:"flex flex-wrap gap-2 mb-6"},tl={class:"bg-black border-t border-gray-800 p-2 flex justify-between items-center"},el={class:"p-8 pt-10 pb-6 border-b border-gray-800 relative bg-surface-card overflow-hidden"},nl={class:"absolute -right-8 top-1/2 -translate-y-1/2 opacity-[0.06] pointer-events-none"},rl=["viewBox","fill","stroke","stroke-width"],il=["d"],ol={class:"flex items-start justify-between mb-4 relative z-10"},al={class:"text-3xl font-black text-white terminal-font uppercase tracking-widest mb-1"},sl={class:"flex items-center gap-2"},ll={class:"text-gray-500 text-xs terminal-font"},ul={class:"flex-1 overflow-y-auto custom-scrollbar p-8 bg-surface"},cl={class:"mb-8"},fl={class:"text-gray-300 leading-relaxed font-mono text-sm"},hl={class:"space-y-3 mb-6"},dl={class:"flex items-center gap-2"},gl={class:"flex justify-between text-xs terminal-font mt-1 text-gray-500"},pl={class:"mt-8 pt-4 border-t border-gray-800 border-dashed"},vl={class:"flex flex-wrap gap-2 mb-6"},yl={class:"bg-black border-t border-gray-800 p-2 flex justify-between items-center"},xl={key:0,class:"h-full flex flex-col items-center justify-center border-2 border-gray-800 border-dashed p-6 bg-surface-input opacity-50"},ml=Jn({__name:"skills",setup(t){const{skills:e,getLinks:n}=gs(),{getIconPath:r}=ir(),{isMobile:i,isSmallScreen:o,isTouch:s}=ps(),a=ot(null),c=ot(800),u=ot(600),l=ot(null),p=ot([]),d=ot(!0),h=ot(null),N=ot(null),{isDragging:v,isPanning:y,graphTransform:g,graphTransformCSS:M,initZoom:C,initMobileTouch:E,fitToView:R,dragStart:X,handleDoubleClick:q,resetZoom:V,cleanup:Q}=vs({containerRef:a,width:c,height:u,skills:e,simulation:N,onNodeSelect:k=>{l.value=k}});p.value=n();const H=mt(()=>{let k=e.value;return h.value&&(k=k.filter(w=>w.category===h.value||w.category==="core")),k}),P=mt(()=>new Set(H.value.map(k=>k.id))),Y=mt(()=>{const k=P.value;return p.value.filter(w=>{const _=typeof w.source=="string"?w.source:w.source.id,A=typeof w.target=="string"?w.target:w.target.id;return k.has(_)&&k.has(A)})}),F=k=>{var w;return((w=or[k])==null?void 0:w.label)||k};let f=null,b=null;wn(()=>{if(a.value&&(c.value=a.value.clientWidth,u.value=a.value.clientHeight,i.value?E():C()),!i.value){const A=e.value.find(G=>G.id==="core");A&&(l.value=A)}T(),e.value.forEach(A=>{!A.x&&!A.y&&(A.x=A.fx0||(Math.random()-.5)*50,A.y=A.fy0||(Math.random()-.5)*50)}),f=rs(e.value).force("link",Wa(p.value).id(A=>A.id).distance(A=>{const G=A,rt=G.source,ft=G.target,Yt=Math.max(rt.tier||0,ft.tier||0);return Yt===1?250:Yt===2?150:100})).force("charge",is().strength(-300)).force("collide",Ua(A=>{const rt=A.tier||0;return rt===0?150:rt===1?120:80})).force("x",os(A=>A.fx0||0).strength(A=>A.tier===0?1:.5)).force("y",as(A=>A.fy0||0).strength(A=>A.tier===0?1:.5)).on("tick",()=>{b===null&&(b=requestAnimationFrame(()=>{x.value++,b=null}))}),N.value=f,f.tick(20),x.value++,setTimeout(()=>{R(i.value),d.value=!1},100);let k=null;i.value||(k=ar(()=>{f&&(f.alpha(.01).restart(),e.value.forEach(A=>{(A.fx===null||A.fx===void 0)&&(A.vx=(A.vx||0)+(Math.random()-.5)*.03,A.vy=(A.vy||0)+(Math.random()-.5)*.03)}))},4e3));let w=null;const _=()=>{w&&clearTimeout(w),w=setTimeout(()=>{a.value&&(c.value=a.value.clientWidth,u.value=a.value.clientHeight,f==null||f.alpha(.3).restart(),R())},150)};window.addEventListener("resize",_),_n(()=>{f==null||f.stop(),k&&clearInterval(k),w&&clearTimeout(w),b&&cancelAnimationFrame(b),window.removeEventListener("resize",_),Q()})});const x=ot(0),T=()=>{const A={life:0,bio:60,model:120,data:180,web:240,eng:300};e.value.forEach(D=>{const j=D.tier||0;j===0?(D.targetR=0,D.targetTheta=0):j===1&&(D.targetR=350,D.targetTheta=(A[D.category]||0)*(Math.PI/180))});const G=(D,j)=>{const Z=j.find(it=>it.category===D.category);return Z||j[0]},rt=e.value.filter(D=>D.tier===2),ft=new Map;rt.forEach(D=>{var it;const j=e.value.filter(pt=>pt.tier===1&&D.dependencies.includes(pt.id));if(j.length===0)return;const Z=G(D,j);ft.has(Z.id)||ft.set(Z.id,[]),(it=ft.get(Z.id))==null||it.push(D)}),ft.forEach((D,j)=>{const Z=e.value.find(kt=>kt.id===j);if(!Z)return;const it=80*(Math.PI/180),pt=(Z.targetTheta||0)-it/2,qt=it/(D.length+1);D.forEach((kt,ke)=>{kt.targetR=650,kt.targetTheta=pt+qt*(ke+1)})});const Yt=e.value.filter(D=>D.tier===3),Bt=new Map;Yt.forEach(D=>{var it;const j=e.value.filter(pt=>pt.tier===2&&D.dependencies.includes(pt.id));if(j.length===0)return;const Z=G(D,j);Bt.has(Z.id)||Bt.set(Z.id,[]),(it=Bt.get(Z.id))==null||it.push(D)}),Bt.forEach((D,j)=>{const Z=e.value.find(kt=>kt.id===j);if(!Z)return;const it=40*(Math.PI/180),pt=(Z.targetTheta||0)-it/2,qt=it/(D.length+1);D.forEach((kt,ke)=>{kt.targetR=900,kt.targetTheta=pt+qt*(ke+1)})}),e.value.forEach(D=>{D.targetR!==void 0&&D.targetTheta!==void 0&&(D.fx0=Math.cos(D.targetTheta)*D.targetR,D.fy0=Math.sin(D.targetTheta)*D.targetR)})},$=k=>{l.value=k},S=(k,w)=>{i.value||X(k,w)},z=k=>{q(k)};let I=0;const B=k=>{I=k.touches[0].clientY},et=k=>{var _;Math.abs((((_=k.changedTouches[0])==null?void 0:_.clientY)||0)-I)<10&&(l.value=null)},O=()=>{i.value||(l.value=null)},J=k=>{const w=k.source,_=k.target,A=w.x||0,G=w.y||0,rt=_.x||0,ft=_.y||0;if(A===rt&&G===ft)return`M ${A} ${G} L ${rt} ${ft}`;const Yt=(A+rt)/2,Bt=(G+ft)/2,D=rt-A,j=ft-G,Z=Math.sqrt(D*D+j*j);if(Z===0)return`M ${A} ${G} L ${rt} ${ft}`;const it=Math.min(Z*.15,50),pt=Yt+j/Z*it,qt=Bt-D/Z*it;return`M ${A} ${G} Q ${pt} ${qt} ${rt} ${ft}`},W=k=>k.source.status!=="learning",nt=k=>{switch(k.source.category){case"bio":return"#42a065";case"data":return"#3b82f6";case"model":return"#a855f7";case"eng":return"#f97316";case"web":return"#06b6d4";case"life":return"#ec4899";default:return"#6b7280"}},ut=k=>{const w={core:i.value?"w-24 h-24 border-4":"w-32 h-32 border-4",major:i.value?"w-16 h-16 border-2":"w-24 h-24 border-2",leaf:i.value?"w-12 h-12 border":"w-16 h-16 border"};return k.category==="core"?w.core:["bio","data","model","eng","web","life"].includes(k.category)&&k.dependencies.includes("core")?w.major:w.leaf},bt=k=>{const w={core:i.value?48:64,major:i.value?28:40,leaf:i.value?20:28};return k.category==="core"?w.core:["bio","data","model","eng","web","life"].includes(k.category)&&k.dependencies.includes("core")?w.major:w.leaf},Lt=k=>r(k),Ot=k=>k==="genomics"?"0 0 512 487.83":k==="eye-triangle"?"0 -6 186 133":"0 0 24 24",gt=k=>[].includes(k||""),Un=k=>k.status==="learning"?{color:"#d1d5db"}:{color:{bio:"#42a065",data:"#60a5fa",model:"#c084fc",eng:"#fb923c",web:"#22d3ee",life:"#f472b6",core:"#9ca3af"}[k.category]||"#ffffff"},Kn=k=>{const w="transition-all duration-300",_={bio:"border-primary",data:"border-blue-400",model:"border-purple-400",eng:"border-orange-400",web:"border-cyan-400",life:"border-pink-400",core:"border-gray-400"},A={bio:"shadow-primary/50",data:"shadow-blue-500/50",model:"shadow-purple-500/50",eng:"shadow-orange-500/50",web:"shadow-cyan-500/50",life:"shadow-pink-500/50",core:"shadow-gray-400/50"},G=_[k.category]||"border-gray-500",rt=A[k.category]||"shadow-gray-500/30";switch(k.status){case"proficient":return`bg-gray-900/90 ${G} ${rt} shadow-lg hover:shadow-xl hover:scale-105 ${w}`;case"competent":return`bg-gray-800/70 ${G} ${rt} shadow-md hover:shadow-lg ${w}`;case"learning":return`bg-gray-800/80 border-gray-400 border-dashed shadow-md hover:shadow-lg hover:scale-102 ${w}`;default:return""}},Wn=k=>{const _={bio:"66, 160, 101",data:"96, 165, 250",model:"192, 132, 252",eng:"251, 146, 60",web:"34, 211, 238",life:"244, 114, 182",core:"156, 163, 175"}[k.category]||"156, 163, 175";if(i.value)switch(k.status){case"proficient":return{boxShadow:`0 0 8px rgba(${_}, 0.6), 0 0 20px rgba(${_}, 0.3)`};case"competent":return{boxShadow:`0 0 3px rgba(${_}, 0.5)`};default:return{}}switch(k.status){case"proficient":return{boxShadow:`0 0 2px rgba(${_}, 1), 0 0 10px rgba(${_}, 0.9), 0 0 25px rgba(${_}, 0.6), 0 0 50px rgba(${_}, 0.4), 0 0 80px rgba(${_}, 0.2)`};case"competent":return{boxShadow:`0 0 1px rgba(${_}, 0.9), 0 0 3px rgba(${_}, 0.6)`};default:return{}}},Zn=k=>k.status!=="proficient"?{}:{backgroundColor:{bio:"rgba(66, 160, 101, 0.3)",data:"rgba(96, 165, 250, 0.3)",model:"rgba(192, 132, 252, 0.3)",eng:"rgba(251, 146, 60, 0.3)",web:"rgba(34, 211, 238, 0.3)",life:"rgba(244, 114, 182, 0.3)",core:"rgba(156, 163, 175, 0.3)"}[k.category]||"rgba(156, 163, 175, 0.3)"},Qn=k=>{const _={bio:"text-primary",data:"text-blue-400",model:"text-purple-400",eng:"text-orange-400",web:"text-cyan-400",life:"text-pink-400",core:"text-gray-300"}[k.category]||"text-white";switch(k.status){case"learning":return`${_} opacity-70`;case"competent":return`${_} opacity-85`;case"proficient":return _;default:return _}},Ge=k=>{switch(k.category){case"bio":return"bg-primary/20 text-primary border-primary/30";case"data":return"bg-blue-500/20 text-blue-400 border-blue-500/30";case"model":return"bg-purple-500/20 text-purple-400 border-purple-500/30";case"eng":return"bg-orange-500/20 text-orange-400 border-orange-500/30";case"web":return"bg-cyan-500/20 text-cyan-400 border-cyan-500/30";case"life":return"bg-pink-500/20 text-pink-400 border-pink-500/30";default:return"bg-gray-500/20 text-gray-400 border-gray-500/30"}},Pt=(k,w)=>{const A={learning:1,competent:2,proficient:3}[k.status]||0;return w>A?"bg-gray-800":w===1?"bg-yellow-700 shadow-[0_0_5px_rgba(161,98,7,0.5)]":w===2?"bg-yellow-400 shadow-[0_0_8px_rgba(250,204,21,0.5)]":w===3?"bg-green-400 shadow-[0_0_10px_rgba(74,222,128,0.8)]":"bg-gray-800"},Ue=k=>{const _={bio:"rgba(66, 160, 101, 0.15)",data:"rgba(59, 130, 246, 0.15)",model:"rgba(168, 85, 247, 0.15)",eng:"rgba(249, 115, 22, 0.15)",web:"rgba(6, 182, 212, 0.15)",life:"rgba(236, 72, 153, 0.15)",core:"rgba(107, 114, 128, 0.15)"}[k.category]||"rgba(107, 114, 128, 0.15)";return{boxShadow:`0 0 20px ${_}, 0 0 40px ${_}`}},$t=(k,w)=>{const A={bio:"bg-primary",data:"bg-blue-500",model:"bg-purple-500",eng:"bg-orange-500",web:"bg-cyan-500",life:"bg-pink-500",core:"bg-gray-400"}[k.category]||"bg-gray-500";return w?`${A}/${Math.round(w*100)}`:A},Ke=k=>({bio:"text-primary",data:"text-blue-400",model:"text-purple-400",eng:"text-orange-400",web:"text-cyan-400",life:"text-pink-400",core:"text-gray-300"})[k.category]||"text-gray-400",Xt=k=>({bio:"border-primary",data:"border-blue-500",model:"border-purple-500",eng:"border-orange-500",web:"border-cyan-500",life:"border-pink-500",core:"border-gray-400"})[k.category]||"border-gray-500";return(k,w)=>(U(),K("div",ys,[m("div",xs,[m("div",ms,[w[4]||(w[4]=m("div",{class:"absolute -top-6 left-0 text-[40px] sm:text-[60px] md:text-[100px] font-black text-gray-900/15 select-none overflow-hidden leading-none z-0 pointer-events-none terminal-font"}," SKILLS ",-1)),m("div",ws,[m("div",_s,[w[2]||(w[2]=m("div",{class:"flex items-center gap-3 mb-2"},[m("span",{class:"w-2 h-2 bg-primary rounded-full animate-pulse"}),m("span",{class:"text-primary text-xs font-bold tracking-widest uppercase border border-primary/30 px-2 py-0.5 bg-primary/10 terminal-font"},"Skill Matrix")],-1)),w[3]||(w[3]=m("h1",{class:"text-2xl sm:text-4xl md:text-5xl font-bold text-primary mb-2 terminal-font tracking-tighter drop-shadow-[0_0_15px_rgba(74,222,128,0.4)]"}," SKILL_TREE_MATRIX ",-1)),m("p",bs," ANALYZING_COMPETENCIES... ["+dt(H.value.length)+" NODES DETECTED] ",1)])])]),m("div",ks,[d.value?(U(),K("div",Ns,w[5]||(w[5]=[m("div",{class:"text-primary-bright terminal-font animate-pulse text-lg"}," LOADING_SKILL_MATRIX... ",-1)]))):Nt("",!0),m("div",{ref_key:"containerRef",ref:a,class:L(["relative w-full lg:w-2/3 h-[65vh] lg:h-[750px] flex items-center justify-center overflow-hidden border border-gray-800 bg-black/60",[tt(v)?"cursor-grabbing":tt(y)?"cursor-grab":"cursor-move"]]),role:"img","aria-label":"Interactive skill tree visualization"},[w[7]||(w[7]=m("div",{class:"absolute inset-0 bg-[linear-gradient(rgba(74,222,128,0.06)_1px,transparent_1px),linear-gradient(90deg,rgba(74,222,128,0.06)_1px,transparent_1px)] bg-[size:20px_20px] pointer-events-none z-[1]"},null,-1)),m("div",Ms,[m("button",{class:"p-2 bg-gray-800 rounded hover:bg-gray-700 text-primary border border-gray-700 hover:border-primary transition-colors",title:"Reset View",onClick:w[0]||(w[0]=(..._)=>tt(V)&&tt(V)(..._))},w[6]||(w[6]=[jn('<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-v-1cf14192><circle cx="12" cy="12" r="10" data-v-1cf14192></circle><line x1="22" y1="12" x2="18" y2="12" data-v-1cf14192></line><line x1="6" y1="12" x2="2" y2="12" data-v-1cf14192></line><line x1="12" y1="6" x2="12" y2="2" data-v-1cf14192></line><line x1="12" y1="22" x2="12" y2="18" data-v-1cf14192></line></svg>',1)]))]),(U(),K("svg",Ts,[tt(i)?Nt("",!0):(U(),K(Gt,{key:0},[],64)),m("g",{transform:tt(g)},[(U(!0),K(Gt,null,re(Y.value,_=>(U(),K("g",{key:_.id},[m("path",{d:J(_),stroke:"#1f2937","stroke-width":"4",fill:"none",class:"opacity-50"},null,8,$s),W(_)?(U(),K("path",{key:0,d:J(_),stroke:nt(_),"stroke-width":"2.5",fill:"none",class:"edge-path",style:Ct({animationDelay:`${_.id.charCodeAt(0)%10/20}s`})},null,12,Cs)):Nt("",!0)]))),128))],8,Es)])),m("div",As,[m("div",{class:"absolute top-0 left-0 w-full h-full origin-top-left",style:Ct({transform:tt(M)})},[m("div",Ss,[(U(!0),K(Gt,null,re(H.value,_=>{var A;return U(),K("div",{key:`node-${_.id}-${_.category}-${_.tier||0}`,class:L(["absolute transform -translate-x-1/2 -translate-y-1/2 pointer-events-auto select-none group",[tt(s)?"cursor-pointer":"cursor-grab active:cursor-grabbing"]]),style:Ct({left:`${_.x||0}px`,top:`${_.y||0}px`,animation:!tt(o)&&_.status==="proficient"?`float ${3+_.id.charCodeAt(0)%20/10}s ease-in-out infinite`:"none",animationDelay:`${_.id.charCodeAt(0)%20/10}s`}),onClick:Ne(G=>$(_),["stop"]),onDblclick:Ne(G=>z(_),["stop"]),onMousedown:Ne(G=>!tt(s)&&tt(X)(G,_),["stop"]),onTouchstartPassive:G=>S(G,_)},[tt(o)?(U(),K("div",Is)):Nt("",!0),m("div",{class:L(["relative flex items-center justify-center rounded-full transition-all duration-300",[tt(o)?"":"backdrop-blur-sm",ut(_),Kn(_),((A=l.value)==null?void 0:A.id)===_.id?"ring-2 ring-primary-bright ring-offset-2 ring-offset-black scale-110 shadow-[0_0_20px_rgba(74,222,128,0.6)]":""]]),style:Ct(Wn(_))},[m("div",{class:L(["relative z-10 transition-all duration-300",[_.status==="learning"?"opacity-40":tt(o)?"":"drop-shadow-md"]]),style:Ct(Un(_))},[(U(),K("svg",{viewBox:Ot(_.iconName),fill:gt(_.iconName)?"none":"currentColor",stroke:gt(_.iconName)?"currentColor":"none","stroke-width":gt(_.iconName)?"6":"0",width:bt(_),height:bt(_)},[m("path",{d:Lt(_.iconName)},null,8,Rs)],8,Ds))],6),_.status==="proficient"?(U(),K("div",{key:`glow-${_.id}`,class:"absolute inset-0 rounded-full blur-md",style:Ct(Zn(_))},null,4)):Nt("",!0)],6),m("div",{class:L(["absolute top-full left-1/2 transform -translate-x-1/2 mt-2 text-center whitespace-nowrap transition-all duration-300","opacity-100"])},[m("span",{class:L(["bg-black/80 px-2 py-1 rounded text-xs font-bold terminal-font border border-gray-800 backdrop-blur-sm",Qn(_)])},dt(_.label),3)],2)],46,zs)}),128))])],4)])],2),m("div",{class:L(["relative pointer-events-none flex flex-col",tt(o)?"":"w-full lg:w-1/3 h-[65vh] lg:h-[750px]"])},[(U(),tr(er,{to:"body"},[tt(o)&&l.value?(U(),K("div",{key:0,class:"fixed inset-0 bg-black/80 z-40",onClick:O,onTouchstart:B,onTouchend:et},null,32)):Nt("",!0),tt(o)&&l.value?(U(),K("div",Ls,[We(Qe,{name:"slide-up",appear:""},{default:Ze(()=>[(U(),K("div",{key:l.value.id,class:"max-h-[65vh] overflow-y-auto"},[m("div",{class:"bg-surface-card border border-gray-800 relative flex flex-col shadow-2xl",style:Ct(Ue(l.value))},[m("div",{class:L(["absolute top-0 left-0 right-0 h-1 z-30",$t(l.value)])},null,2),m("div",{class:L(["absolute bottom-0 left-0 w-24 h-1 z-30",$t(l.value)])},null,2),m("div",Ps,[m("div",Xs,[(U(),K("svg",{viewBox:Ot(l.value.iconName),fill:gt(l.value.iconName)?"none":"currentColor",stroke:gt(l.value.iconName)?"currentColor":"none","stroke-width":gt(l.value.iconName)?"6":"0",class:"w-40 h-40 text-white"},[m("path",{d:Lt(l.value.iconName)},null,8,Bs)],8,Ys))]),m("div",Fs,[m("button",{class:"flex items-center justify-center min-w-[44px] min-h-[44px] rounded-full bg-gray-800 text-gray-400 active:bg-gray-700 active:text-white transition-colors",onClick:w[1]||(w[1]=_=>l.value=null)},w[8]||(w[8]=[m("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[m("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),m("line",{x1:"6",y1:"6",x2:"18",y2:"18"})],-1)]))]),m("div",Hs,[m("div",null,[m("h2",Vs,dt(l.value.label),1),m("div",Os,[m("span",{class:L(["font-bold terminal-font text-xs tracking-widest",Ke(l.value)])},dt(l.value.category.toUpperCase()),3),w[9]||(w[9]=m("span",{class:"w-1 h-1 bg-gray-600 rounded-full"},null,-1)),m("span",qs," LVL "+dt(l.value.level||"1"),1)])])])]),m("div",Gs,[m("div",Us,[m("h3",{class:L(["text-[10px] text-gray-500 uppercase tracking-widest mb-3 border-l-2 pl-2",Xt(l.value)])},"Module_Description",2),m("p",Ks,dt(l.value.description),1)]),m("div",Ws,[m("div",{class:L(["text-[10px] text-gray-500 uppercase tracking-widest mb-2 border-l-2 pl-2",Xt(l.value)])},"Calibration",2),m("div",Zs,[m("div",{class:L(["h-3 flex-1 rounded transition-all duration-300 border border-gray-800",Pt(l.value,1)])},null,2),m("div",{class:L(["h-3 flex-1 rounded transition-all duration-300 border border-gray-800",Pt(l.value,2)])},null,2),m("div",{class:L(["h-3 flex-1 rounded transition-all duration-300 border border-gray-800",Pt(l.value,3)])},null,2)]),m("div",Qs,[m("span",{class:L(l.value.status==="learning"?"text-white":"")},"Learning",2),m("span",{class:L(l.value.status==="competent"?"text-white":"")},"Competent",2),m("span",{class:L(l.value.status==="proficient"?"text-white":"")},"Proficient",2)])]),m("div",Js,[m("div",{class:L(["text-[10px] text-gray-500 uppercase tracking-widest mb-3 border-l-2 pl-2",Xt(l.value)])}," / Tags",2),m("div",js,[(U(!0),K(Gt,null,re(l.value.tags,_=>(U(),K("span",{key:_,class:L(["px-2 py-1 text-xs rounded border bg-gray-900/50 terminal-font",Ge(l.value)])},dt(F(_)),3))),128))])])]),m("div",tl,[w[10]||(w[10]=m("div",{class:"text-[10px] text-gray-600 terminal-font"},"SYS_READY",-1)),m("div",{class:L(["w-16 h-1 overflow-hidden",$t(l.value,.3)])},[m("div",{class:L(["h-full w-1/2 animate-pulse",$t(l.value,.5)])},null,2)],2)])],4)]))]),_:1})])):Nt("",!0)])),We(Qe,{name:"fade"},{default:Ze(()=>[l.value&&!tt(o)?(U(),K("div",{key:l.value.id,class:"pointer-events-auto relative group h-full w-full"},[m("div",{class:"bg-surface-card border border-gray-800 h-full relative flex flex-col shadow-2xl",style:Ct(Ue(l.value))},[m("div",{class:L(["absolute top-0 left-0 right-0 h-1 z-30",$t(l.value)])},null,2),m("div",{class:L(["absolute bottom-0 left-0 w-24 h-1 z-30",$t(l.value)])},null,2),m("div",el,[m("div",nl,[(U(),K("svg",{viewBox:Ot(l.value.iconName),fill:gt(l.value.iconName)?"none":"currentColor",stroke:gt(l.value.iconName)?"currentColor":"none","stroke-width":gt(l.value.iconName)?"6":"0",class:"w-40 h-40 text-white"},[m("path",{d:Lt(l.value.iconName)},null,8,il)],8,rl))]),m("div",ol,[m("div",null,[m("h2",al,dt(l.value.label),1),m("div",sl,[m("span",{class:L(["font-bold terminal-font text-xs tracking-widest",Ke(l.value)])},dt(l.value.category.toUpperCase()),3),w[11]||(w[11]=m("span",{class:"w-1 h-1 bg-gray-600 rounded-full"},null,-1)),m("span",ll," LVL "+dt(l.value.level||"1"),1)])])])]),m("div",ul,[m("div",cl,[m("h3",{class:L(["text-[10px] text-gray-500 uppercase tracking-widest mb-3 border-l-2 pl-2",Xt(l.value)])},"Module_Description",2),m("p",fl,dt(l.value.description),1)]),m("div",hl,[m("div",{class:L(["text-[10px] text-gray-500 uppercase tracking-widest mb-2 border-l-2 pl-2",Xt(l.value)])},"Calibration",2),m("div",dl,[m("div",{class:L(["h-3 flex-1 rounded transition-all duration-300 border border-gray-800",Pt(l.value,1)])},null,2),m("div",{class:L(["h-3 flex-1 rounded transition-all duration-300 border border-gray-800",Pt(l.value,2)])},null,2),m("div",{class:L(["h-3 flex-1 rounded transition-all duration-300 border border-gray-800",Pt(l.value,3)])},null,2)]),m("div",gl,[m("span",{class:L(l.value.status==="learning"?"text-white":"")},"Learning",2),m("span",{class:L(l.value.status==="competent"?"text-white":"")},"Competent",2),m("span",{class:L(l.value.status==="proficient"?"text-white":"")},"Proficient",2)])]),m("div",pl,[m("div",{class:L(["text-[10px] text-gray-500 uppercase tracking-widest mb-3 border-l-2 pl-2",Xt(l.value)])},"Tags",2),m("div",vl,[(U(!0),K(Gt,null,re(l.value.tags,_=>(U(),K("span",{key:_,class:L(["px-2 py-1 text-xs rounded border bg-gray-900/50 terminal-font",Ge(l.value)])},dt(F(_)),3))),128))])])]),m("div",yl,[w[12]||(w[12]=m("div",{class:"text-[10px] text-gray-600 terminal-font"},"SYS_READY",-1)),m("div",{class:L(["w-16 h-1 overflow-hidden",$t(l.value,.3)])},[m("div",{class:L(["h-full w-1/2 animate-pulse",$t(l.value,.5)])},null,2)],2)])],4)])):Nt("",!0)]),_:1}),!l.value&&!tt(o)?(U(),K("div",xl,w[13]||(w[13]=[m("div",{class:"text-gray-700 mb-4 animate-pulse"},[m("svg",{xmlns:"http://www.w3.org/2000/svg",width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"1"},[m("path",{d:"M12 2v4M12 18v4M4.93 4.93l2.83 2.83M16.24 16.24l2.83 2.83M2 12h4M18 12h4M4.93 19.07l2.83-2.83M16.24 7.76l2.83-2.83"})])],-1),m("p",{class:"terminal-font text-xs text-center text-gray-600 tracking-widest"}," AWAITING_SELECTION... ",-1)]))):Nt("",!0)],2)])])]))}}),Ml=nr(ml,[["__scopeId","data-v-1cf14192"]]);export{Ml as default};
